define(["require","exports","knockout","../viewModels/messageModule"],(function(require,e,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TemplateViewProvider=e.ViewFactory=void 0;class i{constructor(){this._viewProviders=new Map}static get instance(){if(null==this._instance){const e=new i;e.viewProviders.set("messageModule",new n),e.viewProviders.set("template",new r),this._instance=e}return this._instance}get viewProviders(){return this._viewProviders}set viewProviders(e){this._viewProviders=e}createAndBindView(e,s){if(this._viewProviders.get(e)){return this._viewProviders.get(e).createView(s)}return null}}e.ViewFactory=i;class n{createView(e){const s={message:e.ds.data,moduleRenderingCompleted:e.ds.moduleRenderingCompleted,index:e.ds.observableIndex,uiMode:e.uiDisplayMode,visible:e.visibility},i=new t(s),n=this.generateView(i);document.querySelector("#customResultContainer").appendChild(n)}generateView(e){let s;const t=document.createElement("div");if(t.id="module"+e.index,t.onload=e.handleTransitionCompleted,e.showSQL()){const t=document.createElement("div"),i=document.createElement("pre");t.appendChild(i),i.classList.add("messageColorTag"),i.innerText=e.message.displaySQL,s=t}if(e.showMessage()&&e.IsMessageStatement()){const t=document.createElement("div"),i=document.createElement("pre");t.appendChild(i),i.classList.add("sqlPrompt"),i.style.display="inline",i.innerText=e.message.sqlStatement.prompt;const n=document.createElement("pre");t.appendChild(n),n.classList.add("messageColorTag"),n.style.display="inline",n.innerText=e.message.sqlStatement.firstLine;const r=document.createElement("pre");t.appendChild(r),r.classList.add("messageColorTag"),r.innerText=e.message.sqlStatement.remainderLines,s=t}if(e.showMessage()&&!e.IsMessageStatement()&&!e.IsdescribeResult()){const t=document.createElement("div");let i="normalMessage break-word",n="messageColorTag";e.message.isError&&(i="errorMessage break-word",n="errorMessage"),t.className=i;const r=document.createElement("pre");t.appendChild(r),r.classList.add(n),r.innerText=e.message.message,s=t}if(e.showMessage()&&!e.IsMessageStatement()&&e.IsdescribeResult()){const t=document.createElement("div");let i="normalMessage break-word",n="messageColorTag";e.message.isError&&(i="errorMessage break-word",n="errorMessage"),t.className=i;const r=document.createElement("div");r.id="describeResult-container",r.className="descTableBody";e.describeResult;t.innerHTML=e.message.message,s=t}return s.id="moduleMessage"+e.index,e.visible||s.classList.add("hideElement"),t.appendChild(s),t}}class r{createView(e){this._template||(this._template=document.querySelector("#dataTemplate"));const t=this._template.content.cloneNode(!0).firstElementChild;this._resultContainer||(this._resultContainer=document.querySelector("#customResultContainer")),this._resultContainer.appendChild(t),s.applyBindings(e,t)}}e.TemplateViewProvider=r}));