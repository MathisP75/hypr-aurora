!function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["exports","ojs/ojcontext","ojs/ojvdom"],function(e,n,r){"use strict";n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var i=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._pendingPropsUpdate=!1,this._renderInterrupted=!1,this.props=t}var i,a,u;return i=e,(a=[{key:"updated",value:function(t,e){}},{key:"mounted",value:function(){}},{key:"unmounted",value:function(){}},{key:"uniqueId",value:function(){return this._uniqueId}},{key:"updateState",value:function(t){this._pendingStateUpdaters||(this._pendingStateUpdaters=[]),this._pendingStateUpdaters.push(t),this.queueRender(this._ref,"stateUpdate")}},{key:"mount",value:function(t,e){return this._vnode=this._renderForMount(t,e),this._ref=r.mount(this._vnode,!0)}},{key:"patch",value:function(t,e){var n=this.props,i=this.state,a=this._vnode,u=this._renderForPatch(t,e);this._vnode=r.patch(u,a,this._ref.parentNode,!0),this.updated(n,i)}},{key:"notifyMounted",value:function(){this._renderIfNeeded(),r.mounted(this._vnode),this.mounted()}},{key:"notifyUnmounted",value:function(){this._cancelQueuedRender(),r.unmount(this._vnode),this.unmounted()}},{key:"queueRender",value:function(t,e){var r=this;if(this._renderInterrupted=!1,"propsUpdate"===e&&(this._pendingPropsUpdate=!0),!this._busyStateCallbackForRender){var i=n.getContext(t).getBusyContext();this._busyStateCallbackForRender=i.addBusyState({description:this.uniqueId()+" is waiting to render."}),this._animation=window.requestAnimationFrame(function(){var t=r._busyStateCallbackForRender,e=r._pendingPropsUpdate,n=r._pendingStateUpdaters;r._busyStateCallbackForRender=null,r._pendingPropsUpdate=!1,r._pendingStateUpdaters=null;try{var i=r._getCallback("getPropsForRender")(),a=r._doUpdateState(i,n);(e||a&&!r._areStatesEqual(r.state,a))&&(r._pendingState=a,r._getCallback("patch")(i,r._ref.parentNode))}catch(t){throw t}finally{r._cleanupRender(t)}})}}},{key:"_cancelQueuedRender",value:function(){null!=this._animation&&(window.cancelAnimationFrame(this._animation),this._renderInterrupted=!0,this._cleanupRender(this._busyStateCallbackForRender),this._busyStateCallbackForRender=null)}},{key:"_cleanupRender",value:function(t){t&&t(),this._pendingState=null,this._animation=null}},{key:"_renderIfNeeded",value:function(){this._renderInterrupted&&this.queueRender(this._ref,"resume")}},{key:"_renderForMount",value:function(t,e){if(this.state){var n=this.constructor.initStateFromProps;if(n){var r=n.call(this.constructor,t,this.state);this.state=this._getNewState(r)}}return this._render(t,e)}},{key:"_renderForPatch",value:function(t,e){if(this.state){var n,r=this.constructor.updateStateFromProps;r&&(n=r.call(this.constructor,t,this._pendingState||this.state,this.props)),this.state=this._getNewState(n,this._pendingState)}return this._render(t,e)}},{key:"_render",value:function(t,e){return e&&e.length&&Object.assign(t,this._getCallback("convertChildrenToSlotProps")(e)),this.props=t,this.render()}},{key:"_doUpdateState",value:function(t,e){return e&&0!==e.length?e.reduce(function(e,n){var r="function"==typeof n?n(e,t):n;return Object.assign(e,r)},Object.assign({},this.state)):null}},{key:"_areStatesEqual",value:function(t,e){return Object.keys(e).every(function(n){return t[n]===e[n]})}},{key:"_getCallback",value:function(t){return this._callbacks||(this._callbacks=this._getBuiltInCallbacks()),this._callbacks[t]}},{key:"_getBuiltInCallbacks",value:function(){var t=this,e={getPropsForRender:function(){return t.props},patch:function(e,n){t.patch(e,n)},convertChildrenToSlotProps:function(t){return{children:t}},_vcomp:!0};return e}},{key:"_getNewState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t||e?Object.assign({},e||this.state,t):this.state}}])&&t(i.prototype,a),u&&t(i,u),e}(),a=r.h,u=r.classPropToObject;e.VComponent=i,e.classPropToObject=u,e.dynamicDefault=function(t){return function(e,n){var r=Symbol();return{get:function(){var e=this[r];return void 0===e?t():e},set:function(t){this[r]=t}}}},e.flattenChildren=function(t){return r.flattenContent(t)},e.h=a,e.listener=function(t){return function(e,n,i){var a=null==i?void 0:i.value;return{configurable:!0,get:function(){var e=a.bind(this);return e[r.LISTENER_OPTIONS_SYMBOL]=t,Object.defineProperty(this,n,{configurable:!0,get:function(){return e},set:function(t){a=t,delete this[n]}}),e},set:function(t){a=t}}}},Object.defineProperty(e,"__esModule",{value:!0})})}();
//# sourceMappingURL=ojvcomponent.js.map