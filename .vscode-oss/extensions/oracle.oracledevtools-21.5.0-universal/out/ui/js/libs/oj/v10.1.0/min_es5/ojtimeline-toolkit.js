/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["exports","ojs/ojdvt-toolkit","ojs/ojdvt-timecomponent","ojs/ojtimeaxis-toolkit","ojs/ojdvt-overview"],function(e,t,i,s,r){"use strict";
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */var a=function(e){this.Init(e)};t.Obj.createSubclass(a,i.TimeComponentKeyboardHandler),a.getNextNavigable=function(e,i,s){var r=e.getSeries(),n=e.getSeriesIndex(),o=t.Agent.isRightToLeft(r.getCtx()),l=r.isVertical(),h=s.length>1;if(!o&&t.KeyboardEvent.RIGHT_ARROW==i.keyCode||o&&t.KeyboardEvent.LEFT_ARROW==i.keyCode){if(!l)return a.getNextItem(e,s[n],!0);if(h&&1!=n)return a.getClosestItem(e,s[1])}else if(!o&&t.KeyboardEvent.LEFT_ARROW==i.keyCode||o&&t.KeyboardEvent.RIGHT_ARROW==i.keyCode){if(!l)return a.getNextItem(e,s[n],!1);if(h&&0!=n)return a.getClosestItem(e,s[0])}else if(t.KeyboardEvent.DOWN_ARROW==i.keyCode){if(l)return a.getNextItem(e,s[n],!0);if(h&&1!=n)return a.getClosestItem(e,s[1])}else if(t.KeyboardEvent.UP_ARROW==i.keyCode){if(l)return a.getNextItem(e,s[n],!1);if(h&&0!=n)return a.getClosestItem(e,s[0])}return null},a.getNextItem=function(e,t,i){var s=t.indexOf(e)+(i?1:-1);return s>=0&&s<t.length?t[s]:null},a.getClosestItem=function(e,t){if(t.length>0){for(var i=t[0],s=e.getLoc(),r=Math.abs(s-i.getLoc()),a=1;a<t.length;a++){var n=Math.abs(s-t[a].getLoc());n<r&&(r=n,i=t[a])}return i}return null};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var n=new Object;t.Obj.createSubclass(n,t.Obj),n.getDatatipColor=function(e){var t=e.getDurationFillColor();return t||null},n.getDatatip=function(e,i,s){var r=e._timeline,a=r.getOptions().tooltip,o=a?a.renderer:null;if(i&&o){var l=r.getCtx().getTooltipManager(),h=e.getDataContext();return l.getCustomTooltip(o,h)}var _=e.getShortDesc();if(null!=_)return _;if(s&&!r.getCtx().isCustomElement()){var c=r.getOptions().translations,g=e.getStartTime(),u=r.getTimeAxis().formatDate(new Date(g),null,"general"),d=t.ResourceUtils.format(c.accessibleItemStart,[u]),m=e.getEndTime();if(m&&m!=g){var S=r.getTimeAxis().formatDate(new Date(m),null,"general");d=d+" "+t.ResourceUtils.format(c.accessibleItemEnd,[S])}var p=e.getTitle();p&&""!=p&&(d=d+" "+t.ResourceUtils.format(c.accessibleItemTitle,[p]));var f=e.getDescription();return f&&""!=f&&(d=d+" "+t.ResourceUtils.format(c.accessibleItemDesc,[f])),d}var v=[];return n._addItemDatatip(v,e,i),n._processDatatip(v,r,i)},n._processDatatip=function(e,i,s){return 0===e.length?null:s?t.HtmlTooltipManager.createElement("table",null,e,["oj-dvt-datatip-table"]):e.join("")},n._addItemDatatip=function(e,t,i){var s=t._timeline,r=t.getTitle();r&&n._addDatatipRow(e,s,"title","Title",r,i);var a=t.getDescription();a&&n._addDatatipRow(e,s,"description","Description",a,i);var o=t.getStartTime(),l=t.getEndTime();o&&l&&l!=o?(n._addDatatipRow(e,s,"start","Start",o,i),n._addDatatipRow(e,s,"end","End",l,i)):n._addDatatipRow(e,s,"date","Date",o,i);var h=t._series.getLabel();null==h&&(h=t._series.getId()),n._addDatatipRow(e,s,"series","Series",h,i)},n._addDatatipRow=function(e,i,s,r,a,o,l){if(null!=a&&""!==a){var h,_=i.getOptions().styleDefaults,c=n.getValueFormat(i,s),g=c.tooltipDisplay,u=i.getOptions().translations;if("off"!=g)if("string"==typeof c.tooltipLabel&&(h=c.tooltipLabel),null==h&&(h=null==r?"":u["label"+r]),a=n.formatValue(i,s,c,a),o){var d=[t.HtmlTooltipManager.createElement("td",_.tooltipLabelStyle,h,["oj-dvt-datatip-label"]),t.HtmlTooltipManager.createElement("td",_.tooltipValueStyle,a,["oj-dvt-datatip-value"])];e.push(t.HtmlTooltipManager.createElement("tr",null,d))}else e.push((e.length>0?"<br>":"")+t.ResourceUtils.format(u.labelAndValue,[h,a]))}},n.getValueFormat=function(e,t){var i=e.getOptions().valueFormats;if(!i)return{};if(i instanceof Array){for(var s={},r=0;r<i.length;r++){var a=i[r];s[a.type]=a}e.getOptions().valueFormats=s,i=s}return i[t]?i[t]:{}},n.formatValue=function(e,t,i,s){var r=i.converter;return"start"==t||"end"==t||"date"==t?e.getTimeAxis().formatDate(new Date(s),r,"general"):r&&r.format?r.format(s):s};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var o=function(e,t,i){this.Init(e,t,i)};t.Obj.createSubclass(o,t.Obj),o.prototype.Init=function(e,t,i){this._timeline=e,this._seriesIndex=t,this._series=e._series[t],this._id=i.id,this._rowKey=i.rowKey,this._startTime=parseInt(i.startTime),i.endTime&&(this._endTime=parseInt(i.endTime)),this._title=i.title,this._desc=i.desc,this._thumbnail=i.thumbnail,this._shortDesc=i.shortDesc,this._style=i.style,this._data=i.data,this._durationFillColor=i.durationFillColor,this._durationSize=0,this._markerShape=i.markerShape,this._markerScaleX=i.markerScaleX,this._markerScaleY=i.markerScaleY,this._markerShortDesc=i.markerShortDesc,this._markerFillColor=i.markerFillColor,this._markerGradientFill=i.markerGradientFill,this._markerOpacity=i.markerOpacity,this._markerSD=i.markerSD,this._data=i.data,this._state={focused:!1,hovered:!1,selected:!1},this._previousState={focused:!1,hovered:!1,selected:!1}},o.prototype.getId=function(){return this._id},o.prototype.getSeries=function(){return this._series},o.prototype.getSeriesIndex=function(){return this._seriesIndex},o.prototype.getRowKey=function(){return this._rowKey},o.prototype.getStartTime=function(){return this._startTime},o.prototype.setStartTime=function(e){this._startTime=e},o.prototype.getEndTime=function(){return this._endTime},o.prototype.setEndTime=function(e){this._endTime=e},o.prototype.getTitle=function(){return this._title},o.prototype.getDescription=function(){return this._desc},o.prototype.getThumbnail=function(){return this._thumbnail},o.prototype.getShortDesc=function(){return this._shortDesc},o.prototype.getStyle=function(){return this._style},o.prototype.setStyle=function(e){this._style=e},o.prototype.getBubble=function(){return this._displayable},o.prototype.setBubble=function(e){this._displayable=e},o.prototype.getFeeler=function(){return this._feeler},o.prototype.setFeeler=function(e){this._feeler=e},o.prototype.getDurationBar=function(){return this._durationBar},o.prototype.setDurationBar=function(e){this._durationBar=e},o.prototype.getLoc=function(){return this._loc},o.prototype.setLoc=function(e){this._loc=e},o.prototype.getSpacing=function(){return this._spacing},o.prototype.setSpacing=function(e){this._spacing=e},o.prototype.getDurationLevel=function(){return this._durationLevel},o.prototype.setDurationLevel=function(e){this._durationLevel=e},o.prototype.getDurationSize=function(){return this._durationSize},o.prototype.setDurationSize=function(e){this._durationSize=e},o.prototype.getDurationFillColor=function(){return this._durationFillColor},o.prototype.setDurationFillColor=function(e){this._durationFillColor=e},o.prototype.getLabel=function(){var e=this._timeline.getOptions().translations,i=this.getStartTime(),s=this._timeline.getTimeAxis().formatDate(new Date(i),null,"general"),r=t.ResourceUtils.format(e.accessibleItemStart,[s]),a=this.getEndTime();if(a&&a!=i){var n=this._timeline.getTimeAxis().formatDate(new Date(a),null,"general");r=r+" "+t.ResourceUtils.format(e.accessibleItemEnd,[n])}var o=this.getTitle();o&&""!=o&&(r=r+" "+t.ResourceUtils.format(e.accessibleItemTitle,[o]));var l=this.getDescription();return l&&""!=l&&(r=r+" "+t.ResourceUtils.format(e.accessibleItemDesc,[l])),r},o.prototype.getWidth=function(){return this._w},o.prototype.setWidth=function(e){this._w=e},o.prototype.getHeight=function(){return this._h},o.prototype.setHeight=function(e){this._h=e},o.prototype.getMarkerShape=function(){return this._markerShape},o.prototype.getMarkerScaleX=function(){return this._markerScaleX},o.prototype.getMarkerScaleY=function(){return this._markerScaleY},o.prototype.getMarkerShortDesc=function(){return this._markerShortDesc},o.prototype.getMarkerFillColor=function(){return this._markerFillColor},o.prototype.getMarkerGradientFill=function(){return this._markerGradientFill},o.prototype.getMarkerOpacity=function(){return this._markerOpacity},o.prototype.getMarkerSD=function(){return this._markerSD},o.prototype.getNextNavigable=function(e){var i=this._timeline.EventManager.getKeyboardHandler();if(e.type==t.MouseEvent.CLICK||i.isMultiSelectEvent(e))return this;if(i.isNavigationEvent(e)){for(var s=[],r=0;r<this._timeline._series.length;r++)s.push(this._timeline._series[r]._items);return a.getNextNavigable(this,e,s)}return null},o.prototype.getTargetElem=function(){return this._displayable.getElem()},o.prototype.getKeyboardBoundingBox=function(e){return this._displayable.getDimensions(e)},o.prototype.showKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!0,this.showHoverEffect(),this._timeline.updateScrollForItemNavigation(this)},o.prototype.hideKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!1,this.hideHoverEffect()},o.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},o.prototype.getDisplayables=function(){return[this._displayable]},o.prototype.getAriaLabel=function(){var e=[];this.isSelectable()&&e.push(this._timeline.getOptions().translations[this.isSelected()?"stateSelected":"stateUnselected"]);var i=n.getDatatip(this,!1);return t.Displayable.generateAriaLabel(i,e)},o.prototype.getData=function(e){return e?i.TimeComponent.sanitizeData(this._data,"item"):this._data},o.prototype.getRendererContext=function(){var e=this.getData()._itemData;return{data:this.getData(!0),itemData:e||null,seriesData:this._series.getData(!0),previousState:this._previousState,state:this._state}},o.prototype.getDataContext=function(){var e=this.getData()._itemData;return{data:this.getData(!0),seriesData:this._series.getData(!0),itemData:e||null,color:n.getDatatipColor(this),component:this._timeline.getOptions()._widgetConstructor}},o.prototype.getDatatip=function(){return n.getDatatip(this,!0)},o.prototype.getDatatipColor=function(){return n.getDatatipColor(this)},o.prototype.setSelectable=function(e){this._isSelectable=e},o.prototype.isSelectable=function(){return this._isSelectable},o.prototype.isSelected=function(){return this._isSelected},o.prototype.setSelected=function(e){this._isSelected=e,this._displayable.setSelected(e),this._updateAriaLabel(),this._timeline._hasOverview&&this._timeline._overview&&(e?(this.changeState("selected",!0,!0),this._timeline._overview.selSelectItem(this.getId())):(this.changeState("selected",!1,!0),this._timeline._overview.selUnselectItem(this.getId())))},o.prototype.changeState=function(e,t,i){i?(this._previousState=this._state,this._state={focused:!1,hovered:!1,selected:!1},this._state[e]=t):this._state[e]=t},o.prototype.showHoverEffect=function(e){var t=this._timeline.EventManager.getFocus()==this;this.changeState("focused",t,!0),this._displayable.showHoverEffect(t),this.changeState("hovered",!0),!e&&this._timeline._hasOverview&&this._timeline._overview.highlightItem(this.getId()),(this._timeline._isVertical||this._series._isRandomItemLayout)&&(this._index||(this._index=this._series._blocks[0].getChildIndex(this.getBubble())),this._series._blocks[0].addChild(this.getBubble()))},o.prototype.hideHoverEffect=function(e){var t=this._timeline.EventManager.getFocus()==this;this.changeState("focused",t,!0),this._displayable.hideHoverEffect(t),this.changeState("hovered",!1),!e&&this._timeline._hasOverview&&this._timeline._overview.unhighlightItem(this.getId()),(this._timeline._isVertical||this._series._isRandomItemLayout)&&this._index&&!this._isSelected&&this._series._blocks[0].addChildAt(this.getBubble(),this._index)},o.prototype._updateAriaLabel=function(){t.Agent.deferAriaCreation()||this._displayable.setAriaProperty("label",this.getAriaLabel())};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var l=function(e){this._timeline=e};t.Obj.createSubclass(l,t.Automation),l.TIMELINE_ITEM_STRING="timelineItem",l.prototype.GetSubIdForDomElement=function(e){var t=this._timeline.EventManager.GetLogicalObject(e);if(t&&t instanceof o)for(var i=0;i<this._timeline._series.length;i++){var s=this._timeline._series[i]._items.indexOf(t);if(-1!=s)return l.TIMELINE_ITEM_STRING+"["+i+"]["+s+"]"}return null},l.prototype.getDomElementForSubId=function(e){if(e==t.Automation.TOOLTIP_SUBID)return this.GetTooltipElement(this._timeline);if(e&&this._timeline.hasValidOptions()){var i=e.indexOf("[");if(i>0&&e.substring(0,i)===l.TIMELINE_ITEM_STRING){var s=e.indexOf("]");if(s>0){var r=parseInt(e.substring(i+1,s)),a=parseInt(e.substring(s+2,e.length-1)),n=this._timeline._series[r];if(n){var o=n._items[a];if(o)return o.getDisplayables()[0].getElem()}}}}return null};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var h=function e(t){this.Init({alta:e.VERSION_1},t)};t.Obj.createSubclass(h,t.BaseComponentDefaults),h.VERSION_1={animationOnDataChange:"none",animationOnDisplay:"none",orientation:"horizontal",overview:{rendered:"off"},selectionMode:"none",styleDefaults:{animationDuration:500,borderColor:"#d9dfe3",item:{backgroundColor:"#ffffff",borderColor:"#648baf",descriptionStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_12+"color: #084B8A; white-space: nowrap;"),hoverBorderColor:"#85bbe7",selectedBorderColor:"#000000",titleStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_12+"font-weight: bold; color: #000000; white-space: nowrap;")},majorAxis:{labelStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_14+"font-weight: bold; color: #4f4f4f; white-space: nowrap;"),separatorColor:"#bcc7d2"},minorAxis:{backgroundColor:"#f9f9f9",borderColor:"#d9dfe3",labelStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_12+"color: #333333;"),separatorColor:"#bcc7d2"},overview:{backgroundColor:"#e6ecf3",labelStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_12+"font-weight: bold; color: #4f4f4f;"),window:{backgroundColor:"#ffffff",borderColor:"#4f4f4f"}},referenceObject:{color:"#ff591f"},series:{backgroundColor:"#f9f9f9",emptyTextStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_12+"font-weight: normal; color: #333333; white-space: nowrap;"),labelStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_13+"font-weight: bold; color: #252525; white-space: nowrap;")},tooltipLabelStyle:new t.CSSStyle(""),tooltipValueStyle:new t.CSSStyle("")}};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var _=function e(t){e.superclass.constructor.call(this,t)};t.Obj.createSubclass(_,i.TimeComponentEventManager),_.prototype.addListeners=function(e){if(_.superclass.addListeners.call(this,e),!t.Agent.isTouchDevice()&&("ie"===t.Agent.browser||"edge"===t.Agent.browser)){var i=this.getCtx().getStage();i.addEvtListener("mouseenter",this.OnMouseEnter,!1,this),i.addEvtListener("mouseleave",this.OnMouseLeave,!1,this)}},_.prototype.RemoveListeners=function(e){if(_.superclass.RemoveListeners.call(this,e),!t.Agent.isTouchDevice()&&("ie"===t.Agent.browser||"edge"===t.Agent.browser)){var i=this.getCtx().getStage();i.removeEvtListener("mouseenter",this.OnMouseEnter,!1,this),i.removeEvtListener("mouseleave",this.OnMouseLeave,!1,this)}},_.prototype.PreOnMouseOver=function(e){this._mouseOutTimer&&this._mouseOutTimer.isRunning()&&this._mouseOutTimer.stop(),_.superclass.PreOnMouseOver.call(this,e),"ie"===t.Agent.browser||"edge"===t.Agent.browser||this.isMouseOver||(this.isMouseOver=!0)},_.prototype.OnMouseEnter=function(e){this._mouseOutTimer&&this._mouseOutTimer.isRunning()&&this._mouseOutTimer.stop(),this.isMouseOver||(this.isMouseOver=!0)},_.prototype.OnMouseLeave=function(e){this._mouseOutTimer||(this._mouseOutTimer=new t.Timer(this.getCtx(),10,this._onMouseOutTimerEnd,this,1)),this._mouseOutTimer.reset(),this._mouseOutTimer.start()},_.prototype.PreOnMouseOut=function(e){_.superclass.PreOnMouseOut.call(this,e),"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser&&(this._mouseOutTimer||(this._mouseOutTimer=new t.Timer(this.getCtx(),10,this._onMouseOutTimerEnd,this,1)),this._mouseOutTimer.reset(),this._mouseOutTimer.start())},_.prototype._onMouseOutTimerEnd=function(){this.isMouseOver=!1},_.prototype.panBy=function(e,t){var i=this.getFocus();i&&(this._comp._dragPanSeries=i._series),_.superclass.panBy.call(this,e,t)};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var c=function(){};t.Obj.createSubclass(c,t.Obj),c.prototype.parse=function(e){var t=new Object;t.start=new Date(e.start).getTime(),t.end=new Date(e.end).getTime(),e.viewportStart&&(t.viewStart=new Date(e.viewportStart).getTime()),e.viewportEnd&&(t.viewEnd=new Date(e.viewportEnd).getTime()),e.selectionMode?t.selectionMode=e.selectionMode:t.selectionMode="none",t.inlineStyle=e.style,e.svgStyle&&(t.inlineStyle=e.svgStyle);var i=e.minorAxis;if(i){var s=i.scale;t.scale=s,t.customFormatScales=i._cfs}var r=e.majorAxis;r&&(t.seriesScale=r.scale,t.seriesConverter=r.converter,t.seriesCustomFormatScales=r._cfs),t.shortDesc=e.shortDesc,t.orientation=e.orientation;var a=e.referenceObjects;if(a&&a.length>0){for(var n=[],o=0;o<a.length;o++)n.push(new Date(a[o].value));t.referenceObjects=n}var l=e.overview;return null!=l&&"on"==l.rendered?t.hasOverview=!0:t.hasOverview=!1,t.timeZoneOffsets=e._tzo,t.itemPosition=e._ip,t.customTimeScales=e._cts,t};
/**
   * @license
   * Copyright (c) 2012 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var g=function(e){this._overview=e};t.Obj.createSubclass(g,t.Automation),g.NODE_ID_PREFIX="marker",g.WINDOW_ID="range_window",g.START_HANDLE_ID="range_start_handle",g.END_HANDLE_ID="range_end_handle",g.AUTOMATION_NO_EVENT=-1,g.AUTOMATION_MOUSE_CLICK=0,g.prototype.GetSubIdForDomElement=function(e){var i=e.getId();if(e instanceof t.SimpleMarker){var s=i.split(":");if(4!=s.length)return null;var r=this._overview.getSeriesIds();if(null!=r){var a=r.indexOf(s[1]);if(a>-1)return"marker["+a+"]["+s[2]+"]"}}else{if("window"==i)return g.WINDOW_ID;if("lh"==i||"lhb"==i||"lbgrh"==i)return g.START_HANDLE_ID;if("rh"==i||"rhb"==i||"rbgrh"==i)return g.END_HANDLE_ID;if("grpy"==i){var n=e.getParent().getChildBefore(e);return this.GetSubIdForDomElement(n)}}return null},g.prototype.getDomElementForSubId=function(e){var t=g._convertSubIdToArray(e);if(t&&3==t.length&&t[0]==g.NODE_ID_PREFIX){var i=this._overview.getSeriesIds();if(null!=i){var s=parseInt(t[1],10);if(s>-1&&s<i.length){var r=g._findMarker(this._overview.getMarkers(),i[s],t[2]);return r?r.getDisplayable().getElem():null}}}else{if(e==g.WINDOW_ID)return this._overview.getSlidingWindow().getElem();if(e==g.START_HANDLE_ID)return this._overview.getLeftHandle().getElem();if(e==g.END_HANDLE_ID)return this._overview.getRightHandle().getElem()}return null},g.prototype.click=function(e){this.processSubId(e,g.AUTOMATION_MOUSE_CLICK)},g.prototype.processSubId=function(e,t){if(void 0===t&&(t=g.AUTOMATION_NO_EVENT),null!=e&&t!=g.AUTOMATION_NO_EVENT&&t==g.AUTOMATION_MOUSE_CLICK){var i=g._convertSubIdToArray(e);if(i&&3==i.length&&i[0]==g.NODE_ID_PREFIX){var s=g._findMarker(this._overview.getMarkers(),i[1],i[2]);s&&this._overview.HandleMarkerClick(s.getDisplayable(),!1)}}},g._convertSubIdToArray=function(e){for(var t=e.split("["),i=t.length,s=1;s<i;s++){var r=t[s],a=r.substr(0,r.length-1),n=parseFloat(a);a=isNaN(n)?a:n,t[s]=a}return t},g._findMarker=function(e,t,i){for(var s="tl1:"+t+":"+i+":",r=0;r<e.length;r++){var a=e[r],n=a.getId();if(null!=n&&0==n.indexOf(s))return a}return null};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var u=function e(){this.Init({alta:e.VERSION_1})};t.Obj.createSubclass(u,t.BaseComponentDefaults),u.VERSION_1={overviewPosition:"below",style:{borderTopStyle:"none",currentTimeIndicatorColor:"#c000d1",handleFillColor:"#ffffff",handleTextureColor:"#b3c6db",leftFilterPanelAlpha:.7,leftFilterPanelColor:"#ffffff",overviewBackgroundColor:"#e6ecf3",rightFilterPanelAlpha:.7,rightFilterPanelColor:"#ffffff",timeAxisBarColor:"#d9dfe3",timeAxisBarAlpha:0,timeIndicatorColor:"#bcc7d2",windowBackgroundAlpha:1,windowBackgroundColor:"#ffffff",windowBorderBottomColor:"#4f4f4f",windowBorderBottomStyle:"solid",windowBorderLeftColor:"#4f4f4f",windowBorderLeftStyle:"solid",windowBorderRightColor:"#4f4f4f",windowBorderRightStyle:"solid",windowBorderTopColor:"#4f4f4f",windowBorderTopStyle:"solid"},_fc:"#aadd77",_do:0,_bc:"#648baf",_bof:"0px",_bs:"solid",_bw:"1px",_dbc:"#648baf",_dbs:"solid",_dbw:"1px",_hbc:"#85bbe7",_hbs:"solid",_hbw:"2px",_hbof:"0px",_hgc:"#ebeced",_hgo:1,_hdbs:"solid",_hdbc:"#85bbe7",_hdbw:"2px",_sbs:"solid",_sbc:"#000000",_sbw:"2px",_sbof:"0px",_sbo:1,_sdbs:"solid",_sdbc:"#000000",_sdbw:"2px",_asbs:"solid",_asbc:"#000000",_asbw:"2px",_asbof:"0px",_asbo:1,_asgc:"#e4f0fa",_asgo:1,_asdbs:"solid",_asdbc:"#000000",_asdbw:"2px",_aoc:"off"};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var d=function(e,t){this.Init(e,t)};t.Obj.createSubclass(d,t.Obj),d.prototype.Init=function(e,i){this._view=e,this._rowKey=i.rowKey,this._id=i.id,this._seriesId=i.seriesId,this._time=parseInt(i.time),this._endTime=null==i.endTime?null:parseInt(i.endTime),this._shape=t.SimpleMarker.CIRCLE,"square"==i.shape?this._shape=t.SimpleMarker.RECTANGLE:"plus"==i.shape?this._shape=t.SimpleMarker.PLUS:"diamond"==i.shape?this._shape=t.SimpleMarker.DIAMOND:"triangleUp"==i.shape?this._shape=t.SimpleMarker.TRIANGLE_UP:"triangleDown"==i.shape&&(this._shape=t.SimpleMarker.TRIANGLE_DOWN),this._desc=i.desc,this._color=i.color,this._gradient=i.gradient,null!=i.opacity&&(this._opacity=parseFloat(i.opacity)),null!=i.scaleX&&(this._scaleX=parseFloat(i.scaleX)),null!=i.scaleY&&(this._scaleY=parseFloat(i.scaleY)),null!=i.durationFillColor&&(this._durationFillColor=i.durationFillColor)},d.prototype.getId=function(){return this._id},d.prototype.getSeriesId=function(){return this._seriesId},d.prototype.getRowKey=function(){return this._rowKey},d.prototype.getTime=function(){return this._time},d.prototype.getEndTime=function(){return this._endTime},d.prototype.getScaleX=function(){return this._scaleX},d.prototype.getScaleY=function(){return this._scaleY},d.prototype.getDescription=function(){return this._desc},d.prototype.getColor=function(){return this._color},d.prototype.isGradient=function(){return this._gradient},d.prototype.getShape=function(){return this._shape},d.prototype.getOpacity=function(){return this._opacity},d.prototype.getDisplayable=function(){return this._displayable},d.prototype.setDisplayable=function(e){this._displayable=e},d.prototype.getX=function(){return this._x},d.prototype.setX=function(e){this._x=e},d.prototype.getY=function(){return this._y},d.prototype.setY=function(e){this._y=e};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var m=new Object;t.Obj.createSubclass(m,t.Obj),m.getDefaultMarkerShape=function(e){return e._ds},m.getDefaultMarkerScaleX=function(e){return e._dsx},m.getDefaultMarkerScaleY=function(e){return e._dsy},m.getDefaultMarkerOpacity=function(e){return e._do},m.getDefaultMarkerFillColor=function(e){return e._fc},m.getDefaultMarkerPixelHinting=function(e){return e._ph},m.getDefaultMarkerBorderStyles=function(e){var t=new Object;return t._bs=e._bs,t._bc=e._bc,t._bw=e._bw,t._bof=e._bof,t._bo=e._bo,t._gc=e._gc,t._go=e._go,t._dbs=e._dbs,t._dbc=e._dbc,t._dbw=e._dbw,t._hbs=e._hbs,t._hbc=e._hbc,t._hbw=e._hbw,t._hbof=e._hbof,t._hbo=e._hbo,t._hgc=e._hgc,t._hgo=e._hgo,t._hdbs=e._hdbs,t._hdbc=e._hdbc,t._hdbw=e._hdbw,t._sbs=e._sbs,t._sbc=e._sbc,t._sbw=e._sbw,t._sbof=e._sbof,t._sbo=e._sbo,t._sgc=e._sgc,t._sgo=e._sgo,t._sdbs=e._sdbs,t._sdbc=e._sdbc,t._sdbw=e._sdbw,t._asbs=e._asbs,t._asbc=e._asbc,t._asbw=e._asbw,t._asbof=e._asbof,t._asbo=e._asbo,t._asgc=e._asgc,t._asgo=e._asgo,t._asdbs=e._asdbs,t._asdbc=e._asdbc,t._asdbw=e._asdbw,t};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var S=function(e){this.Init(e)};t.Obj.createSubclass(S,r.OverviewParser),S.prototype.Init=function(e){this._view=e},S.prototype.parse=function(e){var t=this.ParseRootAttributes(e);return t.timeAxisInfo=this._parseTimeAxis(e.axisTicks),t.markers=this._parseDataNode(e.markers,t.defaultMarkerStyles),t.formattedTimeRanges=e.formattedTimeRanges,t},S.prototype.ParseRootAttributes=function(e){var t=S.superclass.ParseRootAttributes.call(this,e);t.currentTime=parseInt(e.ocd),t.orientation=e.orn,t.selectionMode=e.selmode,t.isRtl=e.rtl.toString(),t.seriesIds=e.sid,t.animationOnClick=e._aoc;var i=new Object;return i.shape=m.getDefaultMarkerShape(e),i.scaleX=m.getDefaultMarkerScaleX(e),i.scaleY=m.getDefaultMarkerScaleY(e),i.opacity=m.getDefaultMarkerOpacity(e),i.color=m.getDefaultMarkerFillColor(e),i.pixelHinting=m.getDefaultMarkerPixelHinting(e),t.defaultMarkerStyles=i,t.labelStyle=e._ls,t},S.prototype._parseDataNode=function(e,t){if(e){for(var i=new Array,s=0;s<e.length;s++){var r=this.ParseNodeAttributes(e[s],t),a=new d(this._view,r);i.push(a)}return i}return null},S.prototype.ParseNodeAttributes=function(e,t){var i=new Object,s="true"==e._sd;return i.id=e.tid,i.seriesId=e.sid,i.rowKey=e.rk,i.time=e.t,i.endTime=e.et,i.shape=e.s,s&&null==i.shape&&(i.shape=t.shape),i.desc=e.d,i.color=e.c,i.durationFillColor=e.dfc,s&&null==i.color&&(i.color=t.color),i.scaleX=e.sx,s&&null==i.scaleX&&(i.scaleX=t.scaleX),i.scaleY=e.sy,s&&null==i.scaleY&&(i.scaleY=t.scaleY),i.gradient=e.g,i.opacity=e.o,s&&null==i.opacity&&(i.opacity=t.opacity),i},S.prototype._parseTimeAxis=function(e){if(e){var t=new Object;return t.width=null,t.height=null,t.ticks=e,t}return null};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var p=function(e,t,i){this.Init(e,t,i)};t.Obj.createSubclass(p,r.Overview),p.ENABLED_STATE="_",p.HOVER_STATE="_h",p.SELECTED_STATE="_s",p.ACTIVE_SELECTED_STATE="_as",p.BORDER_STYLE="bs",p.BORDER_COLOR="bc",p.BORDER_WIDTH="bw",p.DURATION_BORDER_STYLE="dbs",p.DURATION_BORDER_COLOR="dbc",p.DURATION_BORDER_WIDTH="dbw",p.BORDER_OFFSET="bof",p.BORDER_OPACITY="bo",p.GLOW_COLOR="gc",p.GLOW_OPACITY="go",p.FILL_COLOR="fc",p.newInstance=function(e,t,i){return new p(e,t,i)},p.prototype.Init=function(e,i,s){p.superclass.Init.call(this,e,i,s);var a=[t.ColorUtils.getPound(t.ColorUtils.getBrighter("#aadd77",.35)),"#aadd77",t.ColorUtils.getPound(t.ColorUtils.getDarker("#aadd77",.5))];r.OverviewUtils.supportsTouch()&&(a=["#aadd77"]),null!=s&&(this._durationColors=s.getOptions().styleDefaults.series.colors),this._defColors=a,this._markerBorderFill=t.SolidFill.invisibleFill(),this._markerSize=12},p.prototype.initDefaults=function(){this.Defaults=new u},p.prototype.getParser=function(e){return new S(this)},p.prototype._applyParsedProperties=function(e){if(p.superclass._applyParsedProperties.call(this,e),this._selectionMode=e.selectionMode,this._markers=e.markers,this._seriesIds=e.seriesIds,this._defaultMarkerStyles=e.defaultMarkerStyles,this._borderStyles=m.getDefaultMarkerBorderStyles(this.Options),e.labelStyle&&(this._labelStyle=new t.CSSStyle(e.labelStyle)),"solid"==this.getStyle(p.ENABLED_STATE,p.BORDER_STYLE))var i=parseInt(this.getStyle(p.ENABLED_STATE,p.BORDER_OFFSET),10);else i=1;if("solid"==this.getStyle(p.ACTIVE_SELECTED_STATE,p.BORDER_STYLE))var s=parseInt(this.getStyle(p.ACTIVE_SELECTED_STATE,p.BORDER_OFFSET),10);else s=1;if("solid"==this.getStyle(p.SELECTED_STATE,p.BORDER_STYLE))var r=parseInt(this.getStyle(p.SELECTED_STATE,p.BORDER_OFFSET),10);else r=1;this.isItemSelectionEnabled()?this._markerSpacingOffset=Math.max(s,r,i,1)/2+1:this._markerSpacingOffset=1,this._defOpacity=this.isVertical()?0:.75,this._defAlphas=[this._defOpacity,this._defOpacity,this._defOpacity],this._radialFill=new t.LinearGradientFill(250,this._defColors,this._defAlphas),this._linearFill=new t.LinearGradientFill(180,this._defColors,this._defAlphas);var a=this.isVertical()?0:1;this._border=new t.Stroke("#aadd77",a)},p.prototype.getSeriesIds=function(){return null==this._seriesIds?null:this._seriesIds.split(" ")},p.prototype.isItemSelectionEnabled=function(){return"none"!=this._selectionMode},p.prototype.getDrawableById=function(e){for(var i=this.getNumChildren(),s=0;s<i;s++){var r=this.getChildAt(s);if(r&&r._node&&t.Obj.compareValues(this.getCtx(),e,r._node.getId()))return r}return null},p.prototype.getItemId=function(e){return e._node?e._node.getId():e.getId().substr(5)},p.prototype.getStyle=function(e,t){return this._borderStyles[e+t]},p.prototype.getX=function(e){return null!=e._node?e._node.getX():e.getMatrix().getTx()},p.prototype.getY=function(e){return null!=e._node?e._node.getY():e.getMatrix().getTy()},p.prototype.getScaleX=function(e){var t=e.getScaleX();return null==t&&(t=this.isVertical()?(this.Width-this.getTimeAxisWidth()-4)/2:1),t},p.prototype.getScaleY=function(e){var t=e.getScaleY();return null==t&&(t=1),t},p.prototype.renderData=function(e,t){if(p.superclass.renderData.call(this,e,t),null!=this._markers){if(this.isVertical())var i=this._yMin,s=this._yMax;else i=this._xMin,s=this._xMax;for(var r=this.calculateOptimalSize(i,s,e,t,this._markerSize),a=[],n=0;n<this._markers.length;n++){var o=this._markers[n];null==o._endTime?this.addMarker(o,r):a[a.length]=o}this.prepareDurations(a),this.addDurations(a,i,s),this._markerSize=r}},p.prototype.prepareDurations=function(e){this._maxDurationY=0;var t=null;null==this._durationColorMap&&(this._durationColorMap=new Object);for(var i=0;i<e.length;i++){var s=e[i],r=s.getId(),a=s.getSeriesId();a!=t&&(this._colorCount=0,t=a),s._durationLevel=this.calculateDurationY(s,e),null==s._durationFillColor&&(null==this._durationColorMap[r]?(this._durationColorMap[r]=this._colorCount,s._durationFillColor=this._durationColors[this._colorCount],this._colorCount++,this._colorCount==this._durationColors.length&&(this._colorCount=0)):s._durationFillColor=this._durationColors[this._durationColorMap[r]])}},p.prototype.getDurationColorMap=function(){return this._durationColorMap?this._durationColorMap:null},p.prototype.calculateOptimalSize=function(e,t,i,s,a){var n=new Object;n.max=1,n.arr=[];for(var o=this.isVertical()?s:i,l=0;l<this._markers.length;l++){var h=this._markers[l];if(null==h._endTime){if(this.calculateSize(h,e,t,o,a/2,n,s),n.max>s)break}else{var _=r.OverviewUtils.getDatePosition(e,t,h.getTime(),o);this.isHorizontalRTL()&&(_=o-_),h.setX(_)}}return n.max>s&&a>1?this.calculateOptimalSize(e,t,i,s,a-1):a},p.prototype.addMarker=function(e,i){var s="_mrk_"+e.getId(),a=e.getColor(),n=e.isGradient(),o=e.getOpacity();null==o&&0==(o=this._defOpacity)&&null!=a&&(o=1);var l=this.getScaleX(e),h=this.getScaleY(e),_=e.getShape();if(this.isVertical()){_=t.SimpleMarker.RECTANGLE;var c=2*l,g=2*h,u=e.getY()+c/2,d=e.getX()+g/2}else c=i*l,g=i*h,u=e.getX()+c/2,d=e.getY()+g/2;var m=new t.SimpleMarker(this.getCtx(),_,u,d,c,g,null,null,null,s);if(m._node=e,null==a&&o==this._defOpacity&&null==n)v=_==t.SimpleMarker.CIRCLE?this._radialFill:this._linearFill,T=this._border;else{var S=this._defColors;null!=a&&(S=r.OverviewUtils.supportsTouch()?[a]:[t.ColorUtils.getBrighter(a,.5),a,t.ColorUtils.getDarker(a,.5)]);var f=[o,o,o];if(null==n)if(_==t.SimpleMarker.CIRCLE)var v=new t.LinearGradientFill(250,S,f);else v=new t.LinearGradientFill(180,S,f);else v=new t.SolidFill(a,f[0]);var T=new t.Stroke(a,o)}m.setFill(v),m.setStroke(T),this.isItemSelectionEnabled()&&m.setSelectable(!0);var b=this.getNumChildren(),y=this.getChildAt(b-1);return b>this._lastChildIndex&&("tb"==y.getId()||"arr"==y.getId())?this.addChildAt(m,b-this._lastChildIndex):this.addChild(m),e.setDisplayable(m),this.applyState(m,p.ENABLED_STATE),!this.isVertical()&&_!=t.SimpleMarker.RECTANGLE&&_!=t.SimpleMarker.DIAMOND&&_!=t.SimpleMarker.TRIANGLE_UP&&_!=t.SimpleMarker.TRIANGLE_DOWN&&_!=t.SimpleMarker.PLUS||"false"==this._defaultMarkerStyles.pixelHinting||m.setPixelHinting(!0),m},p.prototype.addDurations=function(e,i,s){for(var a=this.getCtx(),n=this._maxDurationY;n>0;n--)for(var o=0;o<e.length;o++){var l=e[o];if(n==l._durationLevel){var h=r.OverviewUtils.getDatePosition(i,s,l.getTime(),this.isVertical()?this.Height:this.Width),_="_drn_"+l.getId(),c=9+5*l._durationLevel,g=r.OverviewUtils.getDatePosition(i,s,l.getEndTime(),this.isVertical()?this.Height:this.Width);if(this.isVertical())if(this.isRTL())var u=new t.Rect(a,0,h,c,g-h,_);else u=new t.Rect(a,this.Width-c,h,c,g-h,_);else u=this.isRTL()?new t.Rect(a,this.Width-g,this.Height-c-20,g-h,c,_):new t.Rect(a,h,this.Height-c-20,g-h,c,_);u.setFill(new t.SolidFill(l._durationFillColor));var d=new t.Stroke(this.getStyle(p.ENABLED_STATE,p.DURATION_BORDER_COLOR),1,1);u.setStroke(d),u.setPixelHinting(!0),u._node=l,this.addChild(u),l._durationBar=u,l._durationY=c-2}}this.removeChild(this._timeAxisTopBar),this.addChild(this._timeAxisTopBar)},p.prototype.calculateSize=function(e,t,i,s,a,n,o){var l=a*this.getScaleX(e)+this._markerSpacingOffset,h=a*this.getScaleY(e)+this._markerSpacingOffset,_=e.getTime(),c=r.OverviewUtils.getDatePosition(t,i,_,s);if(this.isHorizontalRTL()&&(c=s-c-2*l),this.isVertical()){var g=0;"solid"==this.getStyle(p.ENABLED_STATE,p.BORDER_STYLE)&&(g=parseInt(this.getStyle(p.ENABLED_STATE,p.BORDER_WIDTH),10)),u=this.isRTL()?g+4:this.Width-2*this.getScaleX(e)-g-4}else{var u=3;this.isOverviewAbove()&&(u+=this.getTimeAxisHeight());for(var d=0,m=[],S=0;S<n.arr.length;S++){var f=n.arr[S],v=f.getX(),T=this.getScaleX(f);Math.abs(c-v)<a*T+this._markerSpacingOffset+l&&m.push(f)}for(S=0;S<m.length;S++){var b=this.calculateY(m,e.getShape(),c,u,l,h,d,a,o);if(d=b.maxy,b.cy==u){u=b.cy;break}u=b.cy}}e.setX(c),e.setY(u),n.arr.push(e),d>n.max&&(n.max=d)},p.prototype.calculateY=function(e,i,s,r,a,n,o,l,h){for(var _=0;_<e.length;_++){var c=e[_],g=c.getX(),u=c.getY(),d=c.getShape(),m=this.getScaleX(c),S=this.getScaleY(c);if(i==t.SimpleMarker.CIRCLE&&d==t.SimpleMarker.CIRCLE&&a==n&&m==S)var p=Math.abs(s-g),f=l*m+this._markerSpacingOffset+a,v=Math.sqrt(f*f-p*p);else v=l*S+this._markerSpacingOffset+n;if(v>Math.abs(r-u)&&(r=u+v,o=Math.max(o,r+v),l>=1&&null!=h&&o>h))break}return{cy:r,maxy:o}},p.prototype.calculateDurationY=function(e,t){var i=t.length,s=e.getTime(),r=e._durationLevel;null==r&&(r=1);for(var a=0;a<i;a++){var n=t[a];if(n!=e){var o=n.getEndTime();if(null==o)continue;var l=n.getTime(),h=n._durationLevel;null==h&&(h=1),s>=l&&s<=o&&r==h&&(r=h+1,e._durationLevel=r,r=this.calculateDurationY(e,t))}}return r>this._maxDurationY&&(this._maxDurationY=r),r},p.prototype.HandleShapeMouseOver=function(e){var i=p.superclass.HandleShapeMouseOver.call(this,e);if(null!=i){if(null!=i._node){var s=i._node.getDescription();null!=s&&this.getCtx().getTooltipManager().showDatatip(e.pageX,e.pageY,s,"#000000")}if(this.isItemSelectionEnabled()){var r=!1;if(null!=this._selectedMarkers)for(var a=0;a<this._selectedMarkers.length;a++)if(i==this._selectedMarkers[a]){r=!0;break}if(!r){var n=this.getItemId(i),o=t.EventFactory.newTimelineOverviewEvent("highlight",n);this.dispatchEvent(o),this.highlightMarker(i)}}}},p.prototype.HandleShapeMouseOut=function(e){var i=p.superclass.HandleShapeMouseOut.call(this,e);if(null!=i&&!this.isMovable(i)){this.getCtx().getTooltipManager().hideTooltip();var s=!1;if(null!=this._selectedMarkers)for(var r=0;r<this._selectedMarkers.length;r++)if(i==this._selectedMarkers[r]){s=!0;break}if(!s){var a=this.getItemId(i),n=t.EventFactory.newTimelineOverviewEvent("unhighlight",a);this.dispatchEvent(n),this.unhighlightMarker(i)}}},p.prototype.HandleShapeClick=function(e,i,s){var r=p.superclass.HandleShapeClick.call(this,e,i,s);null!=r&&this.HandleMarkerClick(r,e.ctrlKey||e.shiftKey||t.Agent.isTouchDevice())},p.prototype.HandleMarkerClick=function(e,t){if(this.isItemSelectionEnabled()&&(this.selectItem(e,t),null!=e._node.getTime())){var i,s=this.getSlidingWindow();this.isVertical()?(i=this.getX(e)-s.getHeight()/2,this.animateSlidingWindow(null,i)):(i=this.getX(e)-s.getWidth()/2,this.animateSlidingWindow(i))}},p.prototype.highlightItem=function(e){var t=this.getDrawableById(e);null!=t&&this.highlightMarker(t)},p.prototype.unhighlightItem=function(e){var t=this.getDrawableById(e);null!=t&&this.unhighlightMarker(t)},p.prototype.highlightMarker=function(e){if(null!=this._selectedMarkers)for(var t=0;t<this._selectedMarkers.length;t++)if(e==this._selectedMarkers[t])return;this.applyState(e,p.HOVER_STATE)},p.prototype.unhighlightMarker=function(e){if(null!=this._selectedMarkers)for(var t=0;t<this._selectedMarkers.length;t++)if(e==this._selectedMarkers[t])return;this.applyState(e,p.ENABLED_STATE)},p.prototype.selSelectItem=function(e){var t=this.getDrawableById(e);null!=t&&this.addSelectedMarker(t)},p.prototype.selUnselectItem=function(e){var t=this.getDrawableById(e);null!=t&&this.removeSelectedMarker(t)},p.prototype.selectItem=function(e,i){var s=this.getItemId(e),r=t.EventFactory.newTimelineOverviewEvent("selection",s,i);this.dispatchEvent(r)},p.prototype.addSelectedMarker=function(e){null==this._selectedMarkers&&(this._selectedMarkers=[]);var t=null;this._selectedMarkers.length>0&&(t=this._selectedMarkers[this._selectedMarkers.length-1]),this._selectedMarkers.push(e),null!=t&&this.applyState(t,p.SELECTED_STATE),this.applyState(e,p.ACTIVE_SELECTED_STATE)},p.prototype.removeSelectedMarker=function(e){if(null!=this._selectedMarkers){for(var t=-1,i=0;i<this._selectedMarkers.length;i++)if(e==this._selectedMarkers[i]){t=i;break}-1!=t&&(this.applyState(e,p.ENABLED_STATE),this._selectedMarkers.splice(t,1))}},p.prototype.removeAllSelectedMarkers=function(){if(null!=this._selectedMarkers){for(var e=0;e<this._selectedMarkers.length;e++){var t=this._selectedMarkers[e];this.applyState(t,p.ENABLED_STATE)}delete this._selectedMarkers,this._selectedMarkers=null}},p.prototype.applyState=function(e,i){if(e instanceof t.SimpleMarker){var s=!1,r=!1;if("solid"==this.getStyle(i,p.BORDER_STYLE)){s=!0;var a=this.getStyle(i,p.BORDER_COLOR);null==a&&(a="#000000");var n=this.getStyle(i,p.GLOW_COLOR);null!=n&&"none"!=n&&(r=!0)}var o=e._borderMarker,l=e._glowMarker;s||null==o?r||null==l||(this.removeChild(l),e._glowMarker=null):(this.removeChild(o),e._borderMarker=null,null!=l&&(this.removeChild(l),e._glowMarker=null));var h=e.getType();if(s){var _=parseInt(this.getStyle(i,p.BORDER_WIDTH),10),c=parseInt(this.getStyle(i,p.BORDER_OFFSET),10);if(null==o){if(h==t.SimpleMarker.CIRCLE)var g=(e.getDimensions().w+2*c)*e.getScaleX(),u=(e.getDimensions().h+2*c)*e.getScaleY(),d=this.getX(e)-c+g/2,m=this.getY(e)-c+u/2;else this.isVertical()?(g=(e.getDimensions().w+(_+1))*e.getScaleX(),u=(e.getDimensions().h+(_+1))*e.getScaleY(),d=this.getY(e)-(_+1)/2+g/2,m=this.getX(e)-(_+1)/2+u/2):(g=(e.getDimensions().w+2*c)*e.getScaleX(),u=(e.getDimensions().h+2*c)*e.getScaleY(),d=this.getX(e)-c+g/2,m=this.getY(e)-c+u/2);o=new t.SimpleMarker(this.getCtx(),h,d,m,g,u,null,null,null,e.getId()+"_border"),this.addChildAt(o,this.getChildIndex(e)),e._borderMarker=o,o.setFill(this._markerBorderFill)}var S=new t.Stroke(a,this.getStyle(i,p.BORDER_OPACITY),_);if(o.setStroke(S),!this.isVertical()&&h!=t.SimpleMarker.RECTANGLE&&h!=t.SimpleMarker.DIAMOND&&h!=t.SimpleMarker.TRIANGLE_UP&&h!=t.SimpleMarker.TRIANGLE_DOWN&&h!=t.SimpleMarker.PLUS||"false"==this._defaultMarkerStyles.pixelHinting||o.setPixelHinting(!0),r){if(null==l){var f=c-_;h==t.SimpleMarker.CIRCLE?(g=(e.getDimensions().w+2*f)*e.getScaleX(),u=(e.getDimensions().h+2*f)*e.getScaleY(),d=this.getX(e)-f+g/2,m=this.getY(e)-f+u/2):this.isVertical()?(g=(e.getDimensions().w+3)*e.getScaleX(),u=(e.getDimensions().h+3)*e.getScaleY(),d=this.getY(e)+g/2,m=this.getX(e)-1+u/2):(g=(e.getDimensions().w+2*f)*e.getScaleX(),u=(e.getDimensions().h+2*f)*e.getScaleY(),d=this.getX(e)-f+g/2,m=this.getY(e)-f+u/2),l=new t.SimpleMarker(this.getCtx(),h,d,m,g,u,null,null,null,e.getId()+"_glow"),this.addChildAt(l,this.getChildIndex(o)),e._glowMarker=l,l.setFill(this._markerBorderFill)}var v=new t.Stroke(n,this.getStyle(i,p.GLOW_OPACITY),4);l.setStroke(v),!this.isVertical()&&h!=t.SimpleMarker.RECTANGLE&&h!=t.SimpleMarker.DIAMOND&&h!=t.SimpleMarker.TRIANGLE_UP&&h!=t.SimpleMarker.TRIANGLE_DOWN&&h!=t.SimpleMarker.PLUS||"false"==this._defaultMarkerStyles.pixelHinting||l.setPixelHinting(!0)}}}else{var T=e.getId();T&&"_drn_"==T.substring(0,5)&&this.applyDurationState(e,i)}},p.prototype.applyDurationState=function(e,i){var s=this.getStyle(i,p.DURATION_BORDER_COLOR);null==s&&(s="#000000");var r=parseInt(this.getStyle(i,p.DURATION_BORDER_WIDTH),10);e.setStroke(new t.Stroke(s,1,r))},p.prototype.getAutomation=function(){return this._Automation||(this._Automation=new g(this)),this._Automation},p.prototype.getMarkers=function(){return this._markers};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var f=new Object;t.Obj.createSubclass(f,t.Obj),f._DEFAULT_TIMELINE_STYLE="border:1px #d9dfe3;background-color:#f9f9f9;",f._DEFAULT_AXIS_STYLE="background-color:#f9f9f9;border:1px #d9dfe3;",f._DEFAULT_AXIS_SEPARATOR_STYLE="color:#bcc7d2;",f._DEFAULT_SERIES_STYLE="background-color:#f9f9f9;",f._DEFAULT_SERIES_LABEL_BACKGROUND_STYLE="background-color:#f9f9f9",f._DEFAULT_SERIES_LABEL_BACKGROUND_OPACITY=.8,f._DEFAULT_SERIES_LABEL_SPACING=20,f._DEFAULT_SERIES_LABEL_PADDING=2,f._DEFAULT_SERIES_AXIS_SEPARATOR_STYLE="color:#bcc7d2",f._DEFAULT_SERIES_AXIS_LABEL_BACKGROUND_STYLE="background-color:#f9f9f9",f._DEFAULT_SERIES_AXIS_LABEL_BACKGROUND_OPACITY=.8,f._DEFAULT_SERIES_AXIS_LABEL_PADDING=1,f._DEFAULT_OVERVIEW_WIDTH=60,f._DEFAULT_OVERVIEW_HEIGHT=100,f._DEFAULT_ITEM_ENABLED_STROKE_WIDTH=1,f._DEFAULT_ITEM_HOVER_STROKE_WIDTH=2,f._DEFAULT_ITEM_SELECTED_STROKE_WIDTH=2,f._DEFAULT_ITEM_INNER_FILL_COLOR="rgba(249,249,249,0)",f._DEFAULT_ITEM_ACTIVE_INNER_STROKE_COLOR="#e4f0fa",f._DEFAULT_ITEM_ENABLED_INNER_STROKE_COLOR="rgba(249,249,249,0)",f._DEFAULT_ITEM_INNER_STROKE_WIDTH=2,f._DEFAULT_BUBBLE_OFFSET=20,f._DEFAULT_BUBBLE_SPACING=15,f._DEFAULT_ITEM_CONTENT_SPACING=2,f._DEFAULT_DURATION_FEELER_OFFSET=10,f._DEFAULT_THUMBNAIL_WIDTH=32,f._DEFAULT_THUMBNAIL_HEIGHT=32,f._DEFAULT_ZOOM_CONTROL_DIAMETER=31,f._DEFAULT_ZOOM_CONTROL_PADDING=10.5,f._DEFAULT_ZOOM_CONTROL_SPACING=9,f.getItemDescriptionStyle=function(e){var i=e._series.getOptions().styleDefaults.item.descriptionStyle,s=e.getStyle();if(s){var r=new t.CSSStyle(s);i.parseInlineStyle(r)}return i},f.getItemTitleStyle=function(e){var i=e._series.getOptions().styleDefaults.item.titleStyle,s=e.getStyle();if(s){var r=new t.CSSStyle(s);i.parseInlineStyle(r)}return i},f.getReferenceObjectColor=function(e){return e.styleDefaults.referenceObject.color},f.getSeriesLabelStyle=function(e){return e.styleDefaults.series.labelStyle},f.getSeriesLabelBackgroundStyle=function(){return f._DEFAULT_SERIES_LABEL_BACKGROUND_STYLE},f.getSeriesLabelBackgroundOpacity=function(){return f._DEFAULT_SERIES_LABEL_BACKGROUND_OPACITY},f.getSeriesLabelPadding=function(){return f._DEFAULT_SERIES_LABEL_PADDING},f.getSeriesLabelSpacing=function(){return f._DEFAULT_SERIES_LABEL_SPACING},f.getEmptyTextStyle=function(e){return e.styleDefaults.series.emptyTextStyle},f.getBubbleOffset=function(){return f._DEFAULT_BUBBLE_OFFSET},f.getBubbleSpacing=function(){return f._DEFAULT_BUBBLE_SPACING},f.getItemContentSpacing=function(){return f._DEFAULT_ITEM_CONTENT_SPACING},f.getItemFillColor=function(e){var i=e.getStyle();if(i){var s=new t.CSSStyle(i).getStyle(t.CSSStyle.BACKGROUND_COLOR);if(s)return s}return e._series.getOptions().styleDefaults.item.backgroundColor},f.getItemStrokeColor=function(e){var i=e.getStyle();if(i){var s=new t.CSSStyle(i).getStyle(t.CSSStyle.BORDER_COLOR);if(s)return s}return e._series.getOptions().styleDefaults.item.borderColor},f.getItemStrokeWidth=function(){return f._DEFAULT_ITEM_ENABLED_STROKE_WIDTH},f.getItemHoverFillColor=function(e){var t=e._series.getOptions().styleDefaults.item.hoverBackgroundColor;return t||f.getItemFillColor(e)},f.getItemHoverStrokeColor=function(e){var t=e._series.getOptions().styleDefaults.item.hoverBorderColor;return t||f.getItemStrokeColor(e)},f.getItemHoverStrokeWidth=function(){return f._DEFAULT_ITEM_HOVER_STROKE_WIDTH},f.getItemSelectedFillColor=function(e){var t=e._series.getOptions().styleDefaults.item.selectedBackgroundColor;return t||f.getItemFillColor(e)},f.getItemSelectedStrokeColor=function(e){var t=e._series.getOptions().styleDefaults.item.selectedBorderColor;return t||f.getItemStrokeColor(e)},f.getItemSelectedStrokeWidth=function(){return f._DEFAULT_ITEM_SELECTED_STROKE_WIDTH},f.getSeriesStyle=function(){return f._DEFAULT_SERIES_STYLE},f.getColorsArray=function(e){return e.styleDefaults.series.colors},f.getDurationFeelerOffset=function(){return f._DEFAULT_DURATION_FEELER_OFFSET},f.getThumbnailWidth=function(){return f._DEFAULT_THUMBNAIL_WIDTH},f.getThumbnailHeight=function(){return f._DEFAULT_THUMBNAIL_HEIGHT},f.getSeriesAxisSeparatorStyle=function(){return f._DEFAULT_SERIES_AXIS_SEPARATOR_STYLE},f.getItemInnerActiveStrokeColor=function(){return f._DEFAULT_ITEM_ACTIVE_INNER_STROKE_COLOR},f.getItemInnerFillColor=function(){return f._DEFAULT_ITEM_INNER_FILL_COLOR},f.getItemInnerStrokeColor=function(){return f._DEFAULT_ITEM_ENABLED_INNER_STROKE_COLOR},f.getItemInnerStrokeWidth=function(){return f._DEFAULT_ITEM_INNER_STROKE_WIDTH},f.getTimelineStyle=function(){return f._DEFAULT_TIMELINE_STYLE},f.getOverviewWidth=function(){return f._DEFAULT_OVERVIEW_WIDTH},f.getOverviewHeight=function(){return f._DEFAULT_OVERVIEW_HEIGHT},f.getOverviewWindowBackgroundColor=function(e){return e.styleDefaults.overview.window.backgroundColor},f.getOverviewWindowBorderColor=function(e){return e.styleDefaults.overview.window.borderColor},f.getOverviewBackgroundColor=function(e){return e.styleDefaults.overview.backgroundColor},f.getOverviewLabelStyle=function(e){return e.styleDefaults.overview.labelStyle},f.getSeriesAxisLabelStyle=function(e){return e.styleDefaults.majorAxis.labelStyle},f.getSeriesAxisLabelBackgroundStyle=function(){return f._DEFAULT_SERIES_AXIS_LABEL_BACKGROUND_STYLE},f.getSeriesAxisLabelBackgroundOpacity=function(){return f._DEFAULT_SERIES_AXIS_LABEL_BACKGROUND_OPACITY},f.getAxisSeparatorStyle=function(){return f._DEFAULT_AXIS_SEPARATOR_STYLE},f.getSeriesAxisLabelPadding=function(){return f._DEFAULT_SERIES_AXIS_LABEL_PADDING},f.getAnimationDuration=function(e){return t.CSSStyle.getTimeMilliseconds(e.styleDefaults.animationDuration)/1e3};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var v=new Object;t.Obj.createSubclass(v,t.Obj),v.renderTimeline=function(e){if(v._renderBackground(e),v._renderScrollableCanvas(e),e.hasValidOptions()){e.renderTimeZoomCanvas(e._canvas);var t=e.getTimeZoomCanvas();if(v._renderSeries(e,t),v._renderSeriesLabels(e),v._renderAxis(e,t),e._hasOverview?v._renderOverview(e):e.clearOverview(),e._keyboardHandler)for(var i=0;i<e._series.length;i++)if((r=e._series[i])._items&&r._items.length>0){e.EventManager.setFocusObj(r._items[0]);break}for((e.isTimeDirScrollbarOn()||e.isContentDirScrollbarOn())&&v._renderScrollbars(e),v._renderZoomControls(e),e.SelectionHandler&&e.applyInitialSelections(),s.TimeAxisUtils.supportsTouch()&&e._setAriaProperty("flowto",e._series[0].getId()),i=0;i<e._series.length;i++){var r;(r=e._series[i]).triggerAnimations()}}else v._renderEmptyText(e)},v._renderBackground=function(e){e._background?(e._background.setClipPath(null),e._background.setWidth(e._backgroundWidth),e._background.setHeight(e._backgroundHeight)):e._background=new t.Rect(e.getCtx(),0,0,e._backgroundWidth,e._backgroundHeight,"bg");var i=e.getBackgroundXOffset();e._background.setTranslateX(i),e._background.setCSSStyle(e._style),e._background.setPixelHinting(!0);var s=new t.ClipPath;s.addRect(i,0,e._backgroundWidth,e._backgroundHeight),e._background.setClipPath(s),e._background.getParent()!=e&&e.addChild(e._background)},v._renderScrollableCanvas=function(e){e._canvas||(e._canvas=new t.Container(e.getCtx(),"canvas"),e.addChild(e._canvas))},v._renderSeries=function(e,i){var s=e.getTimeAxis();if(e._series){var r=e.getCtx(),a=t.Agent.isRightToLeft(r),n=e._series.length,o=e.getTimeAxisVisibleSize(n);e.isVertical()||n>1&&e._canvasSize%2!=o%2&&(s.setContentSize(s.getContentSize()+1),o=e.getTimeAxisVisibleSize(n)),e._seriesSize=(e._canvasSize-o)/n;for(var l=0;l<n;l++){var h=e._series[l];h.setClipPath(null);var _=new t.ClipPath;if(e.isVertical()){if(a)var c=Math.abs(l-1);else c=l;if(a&&1==e._series.length){_.addRect(o,0,e._seriesSize,e.getContentLength());var g=new t.Matrix(1,0,0,1,o,0)}else _.addRect(c*(e._seriesSize+o),0,e._seriesSize,e.getContentLength()),g=new t.Matrix(1,0,0,1,c*(e._seriesSize+o),0);var u=e._seriesSize,d=e.getContentLength()}else _.addRect(0,l*(e._seriesSize+o),e.getContentLength(),e._seriesSize),g=new t.Matrix(1,0,0,1,0,l*(e._seriesSize+o)),u=e.getContentLength(),d=e._seriesSize;h.setClipPath(_),h.setMatrix(g),h.getParent()!=i&&i.addChild(h),h.render(e._seriesOptions[l],u,d)}}},v._renderSeriesLabels=function(e){if(e._series){var i=e.getCtx(),s=t.Agent.isRightToLeft(i);if(e._seriesLabels)for(var r=0;r<e._seriesLabels.length;r++)e.removeChild(e._seriesLabels[r]);e._seriesLabels=[];var a=e._series.length,n=f.getSeriesLabelSpacing(),o=2*t.TransientButton._DEFAULT_RADIUS+6,l=2*n;for(r=0;r<a;r++){var h=e._series[r],_=h.getLabel();if(null!=_){var c=f.getSeriesLabelStyle(e.Options),g=new t.CSSStyle(f.getSeriesLabelBackgroundStyle());if(h._style){var u=h._style.getStyle(t.CSSStyle.BACKGROUND_COLOR);u&&g.setStyle(t.CSSStyle.BACKGROUND_COLOR,u)}var d=new t.OutputText(i,_,0,0,"sl_s"+r);d.setCSSStyle(c);var m=d.getDimensions();if(e.isVertical())var S=e._seriesSize;else S=e._canvasLength;var p=Math.min(m.w,S-(r-1)*-o-l),v=f.getSeriesLabelPadding(),T=new t.Rect(i,0,0,p+2*v,m.h+2*v,"slb_s"+r);if(T.setCSSStyle(g),T.setAlpha(f.getSeriesLabelBackgroundOpacity()),T.setCornerRadius(3),e.isVertical())b=s?Math.abs(r-1)*(e._canvasSize-p-l)+n+e._startX+(r-1)*o:r*(e._canvasSize-p-l)+n+e._startX+(r-1)*-o,y=e._startY+n;else{if(s)var b=e._canvasLength-p-n-(r-1)*-o;else b=e._startX+n+(r-1)*-o;var y=r*(e._canvasSize-m.h-l)+n+e._startY}var E=new t.Matrix(1,0,0,1,b,y);d.setMatrix(E),E=new t.Matrix(1,0,0,1,b-v,y-v),T.setMatrix(E),e.addChild(T),t.TextUtils.fitText(d,p,1/0,e),e._seriesLabels.push(T),e._seriesLabels.push(d)}if(h._isEmpty){var O=h.getEmptyText();if(null!=O){var A=new t.OutputText(i,O,0,0,"et_s"+r);if(A.setCSSStyle(f.getEmptyTextStyle(e.Options)),m=A.getDimensions(),e.isVertical())D=(e._canvasLength-m.h)/2+e._startY,C=s?Math.abs(r-1)*((a-1)*e._seriesSize+e.getTimeAxisVisibleSize(a))+(e._seriesSize-m.w)/2+e._startX:r*(e._seriesSize+e.getTimeAxisVisibleSize(a))+(e._seriesSize-m.w)/2+e._startX;else var C=(e._canvasLength-m.w)/2+e._startX,D=r*(e._seriesSize+e.getTimeAxisVisibleSize(a))+(e._seriesSize-m.h)/2+e._startY;E=new t.Matrix(1,0,0,1,C,D),A.setMatrix(E),e.addChild(A),e._seriesLabels.push(A)}}}}},v._renderAxis=function(e,i){var s=e.getCtx(),r=t.Agent.isRightToLeft(s),a=e.getTimeAxis(),n=e._series.length,o=e.getTimeAxisSize(),l=e.getTimeAxisVisibleSize(n),h=1==n?e._canvasSize-l:e._canvasSize/n-l/2;if(r&&e.isVertical()&&1==e._series.length&&(h=0),a.getParent()!==i&&i.addChild(a),e.isVertical()){var _=new t.Matrix(1,0,0,1,h,0);a.render(null,o,e.getContentLength())}else _=new t.Matrix(1,0,0,1,0,h),a.render(null,e.getContentLength(),o);a.setMatrix(_),v._renderSeriesTimeAxis(e,e._fetchStartPos,e._fetchEndPos,e.getTimeZoomCanvas(),e.getContentLength())},v._renderSeriesTimeAxis=function(e,i,r,a,n){var o=e.getCtx(),l=t.Agent.isRightToLeft(o);if(e._majorAxisLabels)for(var h=0;h<e._majorAxisLabels.length;h++)a.removeChild(e._majorAxisLabels[h]);if(e._majorAxisLabels=[],e._seriesScale){var _,c,g=e._start,u=e._end;if(e._customTimeScales&&e._customTimeScales[e._seriesScale]){var d=e._customTimeScales[e._seriesScale];_=d.times,c=d.labels}else if(e._seriesCustomFormatScales&&e._seriesCustomFormatScales[e._seriesScale]){var m=e._seriesCustomFormatScales[e._seriesScale];_=m.times,c=m.labels}else{_=[],c=[];var S=s.TimeAxisUtils.getPositionDate(g,u,i,n),p=e._seriesTimeAxis.adjustDate(S),T=s.TimeAxisUtils.getDatePosition(g,u,p,n);for(_.push(p.getTime());T<r;)c.push(e._seriesTimeAxis.formatDate(p)),p=e._seriesTimeAxis.getNextDate(p.getTime()),T=s.TimeAxisUtils.getDatePosition(g,u,p,n),_.push(p.getTime())}var b=f.getSeriesAxisLabelStyle(e.Options),y=f.getSeriesAxisLabelPadding(),E=new t.CSSStyle(f.getSeriesAxisLabelBackgroundStyle());if(e._series[0]&&e._series[0]._style){var O=e._series[0]._style.getStyle(t.CSSStyle.BACKGROUND_COLOR);O&&E.setStyle(t.CSSStyle.BACKGROUND_COLOR,O)}var A=f.getSeriesAxisLabelBackgroundOpacity();for(h=0;h<c.length;h++){var C=c[h],D=_[h];T=s.TimeAxisUtils.getDatePosition(g,u,D,n);var w=s.TimeAxisUtils.getDatePosition(g,u,_[h+1],n)-T;if(l)I=e.isVertical()?v._addLabel(o,a,e._canvasSize-5,C,w,T+18,b,"o_label"+T+"_s0",!0,E,A,y,e._majorAxisLabels,l):v._addLabel(o,a,n-(T+5),C,w,e._seriesSize-2,b,"o_label"+T+"_s0",!0,E,A,y,e._majorAxisLabels,l);else if(e.isVertical())var I=v._addLabel(o,a,5,C,w,T+18,b,"o_label"+T+"_s0",!0,E,A,y,e._majorAxisLabels,l);else I=v._addLabel(o,a,T+5,C,w,e._seriesSize-2,b,"o_label"+T+"_s0",!0,E,A,y,e._majorAxisLabels,l);I.time=_[h]}}},v._renderOverview=function(e){var i=e.getCtx(),s=t.Agent.isRightToLeft(i);if(null==e._overviewCanvas){var r=!0;e._overviewCanvas=new t.Container(i,"oCanvas")}else e._overviewCanvas.removeChildren(),e._overviewCanvas.setClipPath(null);var a,n,o,l,h=e._style.getBorderWidth(),_=h/2;e.isVertical()?(a=e._overviewSize,n=e._backgroundHeight-h,l=_,o=s?_:e._backgroundWidth-e._overviewSize-_):(a=e._backgroundWidth-h,n=e._overviewSize,l=e._backgroundHeight-e._overviewSize-_,o=_+e.getBackgroundXOffset()),e._overviewCanvas.setTranslateX(o),e._overviewCanvas.setTranslateY(l);var c=new t.ClipPath;c.addRect(o,l,a,n),e._overviewCanvas.setClipPath(c),r&&e.addChild(e._overviewCanvas),e._overview=new p(i,e.HandleEvent,e),e._overviewCanvas.addChild(e._overview);var g=e._getOverviewObject();e._overview.render(g,a,n)},v._renderScrollbars=function(e){var i=e.getCtx(),s=e.getScrollbarPadding();if(null==e._scrollbarsCanvas?(e._scrollbarsCanvas=new t.Container(i,"sbCanvas"),e.addChild(e._scrollbarsCanvas)):(e._scrollbarsCanvas.removeChildren(),e.setTimeDirScrollbar(null),e.setContentDirScrollbar(null)),e.isTimeDirScrollbarOn()){if(e.isVertical()){if(t.Agent.isRightToLeft(e.getCtx()))var r=2*s+1;else r=e.Width-1.5*s;var a=e.getCanvasLength()}else r=e.getCanvasLength(),a=e.Height-1.5*s;var n=v._prerenderTimeDirScrollbar(e,e._scrollbarsCanvas,new t.Rectangle(0,0,r,a))}if(e.isContentDirScrollbarOn()){e.isVertical()?(r=e._seriesSize,a=e.Height-1.5*s):(r=t.Agent.isRightToLeft(e.getCtx())?2*s+1:e.Width-1.5*s,a=e._seriesSize);for(var o=e._series.length,l=[],h=0;h<o;h++)l[h]=v._prerenderContentDirScrollbar(e,e._scrollbarsCanvas,new t.Rectangle(0,0,r,a),h)}if(e.timeDirScrollbar){var _={};_.color=e.timeDirScrollbarStyles.getStyle(t.CSSStyle.COLOR),_.backgroundColor=e.timeDirScrollbarStyles.getStyle(t.CSSStyle.BACKGROUND_COLOR),_.min=e._start,_.max=e._end,e.isVertical()?(_.isReversed=!1,_.isHorizontal=!1,e.timeDirScrollbar.setTranslateY(e.getStartYOffset())):(_.isReversed=t.Agent.isRightToLeft(i),_.isHorizontal=!0,e.timeDirScrollbar.setTranslateX(e.getStartXOffset())),e.timeDirScrollbar.render(_,n.w,n.h),e.timeDirScrollbar.setViewportRange(e._viewStartTime,e._viewEndTime)}if(e.contentDirScrollbar)for(h=0;h<o;h++)(_={}).color=e.contentDirScrollbarStyles.getStyle(t.CSSStyle.COLOR),_.backgroundColor=e.contentDirScrollbarStyles.getStyle(t.CSSStyle.BACKGROUND_COLOR),_.isHorizontal=e.isVertical(),0==h?(_.min=0,_.max=Math.max(e._series[h]._maxOverflowValue,l[h].h),e.isVertical()?t.Agent.isRightToLeft(i)?(_.isReversed=!1,2==o?e.contentDirScrollbar[h].setTranslateX(e.getStartXOffset()+e._seriesSize+e.getTimeAxisVisibleSize(o)):e.contentDirScrollbar[h].setTranslateX(e.getStartXOffset()+e.getTimeAxisVisibleSize(o))):(_.isReversed=!0,e.contentDirScrollbar[h].setTranslateX(e.getStartXOffset())):(_.isReversed=!0,e.contentDirScrollbar[h].setTranslateY(e.getStartYOffset()))):(_.min=0,_.max=Math.max(e._series[h]._maxOverflowValue,l[h].h),e.isVertical()?t.Agent.isRightToLeft(i)?(_.isReversed=!0,e.contentDirScrollbar[h].setTranslateX(e.getStartXOffset())):(_.isReversed=!1,e.contentDirScrollbar[h].setTranslateX(e.getStartXOffset()+e._seriesSize+e.getTimeAxisVisibleSize(o))):(_.isReversed=!1,e.contentDirScrollbar[h].setTranslateY(e.getStartYOffset()+e._seriesSize+e.getTimeAxisVisibleSize(o)))),e.contentDirScrollbar[h].render(_,l[h].w,l[h].h),e.contentDirScrollbar[h].setViewportRange(0,e._seriesSize)},v._prerenderTimeDirScrollbar=function(e,i,s){if(e.setTimeDirScrollbar(new t.SimpleScrollbar(e.getCtx(),e.HandleEvent,e)),i.addChild(e.timeDirScrollbar),e.isVertical())var r="right",a=t.CSSStyle.toNumber(e.timeDirScrollbarStyles.getWidth()),n=s.h;else r="bottom",a=s.w,n=t.CSSStyle.toNumber(e.timeDirScrollbarStyles.getHeight());return t.LayoutUtils.position(s,r,e.timeDirScrollbar,a,n,0),new t.Dimension(a,n)},v._prerenderContentDirScrollbar=function(e,i,s,r){if(e.setContentDirScrollbar(new t.SimpleScrollbar(e.getCtx(),e.HandleEvent,e),r),i.addChild(e.contentDirScrollbar[r]),e.isVertical())var a="bottom",n=s.w,o=t.CSSStyle.toNumber(e.contentDirScrollbarStyles.getHeight());else a="right",n=t.CSSStyle.toNumber(e.contentDirScrollbarStyles.getWidth()),o=s.h;return t.LayoutUtils.position(s,a,e.contentDirScrollbar[r],n,o,0),new t.Dimension(n,o)},v._renderZoomControls=function(e){var i=e.getCtx(),s=e._resources,r=t.Agent.isRightToLeft(i),a={zoomInProps:{imageSize:16,class:s.zoomIn},zoomOutProps:{imageSize:16,class:s.zoomOut}},n=e.getStartXOffset()+f._DEFAULT_ZOOM_CONTROL_PADDING;r&&(e._isVertical&&e._hasOverview?n-=e._overviewSize:n-=e.getBackgroundXOffset(),n=e._backgroundWidth-n-f._DEFAULT_ZOOM_CONTROL_DIAMETER),a.zoomInProps.posX=n,a.zoomOutProps.posX=n;var o=e._startY+f._DEFAULT_ZOOM_CONTROL_PADDING;a.zoomInProps.posY=o,a.zoomOutProps.posY=o+f._DEFAULT_ZOOM_CONTROL_DIAMETER+f._DEFAULT_ZOOM_CONTROL_SPACING,e.renderZoomControls(a)},v._renderEmptyText=function(e){if(e.Options.series)var i=e.Options.translations.labelInvalidData;else i=e.Options.translations.labelNoData;e.clearComponent(),e.renderEmptyText(e._canvas,i,new t.Rectangle(0,0,e._backgroundWidth,e._backgroundHeight),e.EventManager,f.getEmptyTextStyle(e.Options))},v._addLabel=function(e,i,s,r,a,n,o,l,h,_,c,g,u,d){var m=new t.OutputText(e,r,s,0,l);null!=o&&m.setCSSStyle(o);var S=m.getDimensions();if(n-=S.h,m.setY(n),d&&m.setX(s-S.w),h){var p=Math.min(S.w+2*g,a);if(d)f=s-p+2*g;else var f=s;var v=new t.Rect(e,f-g,n-g,p,S.h+2*g,"ob_"+l);v.setCSSStyle(_),v.setCornerRadius(3),v.setAlpha(c),i.addChild(v),u&&u.push(v)}return t.TextUtils.fitText(m,a,1/0,i),u&&u.push(m),m};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var T=function(e,t){this.Init(e,t)};t.Obj.createSubclass(T,t.Container),T.ENABLED_STATE_KEY="en",T.SELECTED_STATE_KEY="sel",T.ACTIVE_SELECTED_STATE_KEY="asel",T.HOVER_STATE_KEY="hl",T.prototype.Init=function(e,t){T.superclass.Init.call(this,e,"g",t)},T.prototype.setSelected=function(e){this._isSelected!=e&&(this._isSelected=e,e?this._isShowingHoverEffect?this.applyState(T.ACTIVE_SELECTED_STATE_KEY):this.applyState(T.SELECTED_STATE_KEY):this.applyState(T.ENABLED_STATE_KEY))},T.prototype.showHoverEffect=function(e){this._isShowingHoverEffect||(this._isShowingHoverEffect=!0,this._isSelected&&e?this.applyState(T.ACTIVE_SELECTED_STATE_KEY):this._isSelected?this.applyState(T.SELECTED_STATE_KEY):this.applyState(T.HOVER_STATE_KEY))},T.prototype.hideHoverEffect=function(e){this._isSelected&&e?this.applyState(T.ACTIVE_SELECTED_STATE_KEY):this._isSelected?this.applyState(T.SELECTED_STATE_KEY):this.applyState(T.ENABLED_STATE_KEY),this._isShowingHoverEffect=!1},T.prototype.applyState=function(e){var i=this._node,s=i.getBubble();if(null!=s){var r=s.getChildAt(0),a=r.getChildAt(0),n=i.getDurationBar();if(e==T.ACTIVE_SELECTED_STATE_KEY)var o=f.getItemSelectedFillColor(i),l=f.getItemSelectedStrokeColor(i),h=f.getItemSelectedStrokeWidth(),_=f.getItemInnerActiveStrokeColor();else e==T.SELECTED_STATE_KEY?(o=f.getItemSelectedFillColor(i),l=f.getItemSelectedStrokeColor(i),h=f.getItemSelectedStrokeWidth(),_=f.getItemInnerStrokeColor()):e==T.HOVER_STATE_KEY?(o=f.getItemHoverFillColor(i),l=f.getItemHoverStrokeColor(i),h=f.getItemHoverStrokeWidth(),_=f.getItemInnerActiveStrokeColor()):(o=f.getItemFillColor(i),l=f.getItemStrokeColor(i),h=f.getItemStrokeWidth(),_=f.getItemInnerStrokeColor());var c=f.getItemInnerStrokeWidth(),g=new t.Stroke(l,1,h),u=new t.Stroke(_,1,c);r.setSolidFill(o),r.setStroke(g),a.setStroke(u);var d=i.getFeeler();d&&d.setStroke(g),n&&n.setStroke(g)}};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var b=new Object;t.Obj.createSubclass(b,t.Obj),b.renderItem=function(e,t,i,s,r,a){e._content?(b._renderBubble(e,t,i,r),b._displayBubble(e,t,s,null,!1)):(t._hasMvAnimations=!0,b._displayBubble(e,t,s,a,!0)),t.isVertical()||(e.getFeeler()&&t._allowUpdates?b._updateFeeler(e,t,s,a):b._renderFeeler(e,t,i.feelers,s,r))},b.initializeItem=function(e,t,i){e.getBubble()&&t._allowUpdates?b._updateBubble(e,t,i):b._createBubble(e,t,i)},b._createBubble=function(e,t,i){var s,r,a=b._getBubbleContent(e,t);e._timeline.getOptions().itemBubbleContentRenderer?(s=Math.max(0,a._w+a._x+10),r=a._h+a._y+10):(s=a._w+10,r=a._h+10),e.setWidth(s),e.setHeight(r),e._content=a;var n=t.calculateSpacing(e,i);e.setSpacing(n)},b._renderBubble=function(e,i,r,a){var n=i.getCtx(),o=t.Agent.isRightToLeft(n),l=e.getId(),h=e._content;e._content=null;var _=e.getWidth(),c=e.getHeight(),g="_bubble_"+l;if(i.isVertical()){var u=c/2,d=u-6,m=u+6;if(!o&&i.isInverted()||o&&!i.isInverted())var S=[0,0,0,d,-6,u,0,m,0,c,_,c,_,0,0,0],p=[2,2,2,d,-4,u,2,m,2,c-2,_-2,c-2,_-2,2,2,2];else S=[0,0,0,c,_,c,_,m,_+6,u,_,d,_,0,0,0],p=[2,2,2,c-2,_-2,c-2,_-2,m,_+4,u,_-2,d,_-2,2,2,2]}else d=(u=o?_-f.getBubbleOffset():f.getBubbleOffset())-6,m=u+6,i.isInverted()?(S=[0,0,d,0,u,-6,m,0,_,0,_,c,0,c,0,0],p=[2,2,d,2,u,-4,m,2,_-2,2,_-2,c-2,2,c-2,2,2]):(S=[0,0,0,c,d,c,u,c+6,m,c,_,c,_,0,0,0],p=[2,2,2,c-2,d,c-2,u,c+4,m,c-2,_-2,c-2,_-2,2,2,2]);var v=new t.Polygon(n,S,g),b=new t.Polygon(n,p,g+"_i");b.setSolidFill(f.getItemInnerFillColor()),o&&e._timeline.getOptions().itemBubbleContentRenderer?h.setTranslate(_-5-2*h._x,5):h.setTranslate(5,5),v.addChild(b),v.addChild(h);var y=new T(n,"_bt_"+l);a&&(y.setAlpha(0),a.push(y)),y.addChild(v),s.TimeAxisUtils.supportsTouch()&&t.ToolkitUtils.setAttrNullNS(y._elem,"id",y._id),y._node=e,e.setBubble(y),y.applyState(T.ENABLED_STATE_KEY),y.setClassName("oj-timeline-item-bubble"),e.getLoc()>=0&&r.addChild(y),y.setAriaRole("img"),i._callbackObj.EventManager.associate(y,e)},b._displayBubble=function(e,i,s,r,a){var n,o,l=i.getCtx(),h=t.Agent.isRightToLeft(l),_=e.getLoc(),c=e.getWidth(),g=e.getHeight(),u=e.getSpacing(),d=e.getBubble();a&&d.applyState(T.ENABLED_STATE_KEY),i.isVertical()?(o=_-g/2,h&&i.isInverted()||!h&&!i.isInverted()?n=i._size-(c+i._initialSpacing)+s:(n=i._initialSpacing,s=0)):(n=h?i._length-_-c+f.getBubbleOffset():_-f.getBubbleOffset(),i.isInverted()?(o=i.isTopToBottom()?u:i.Height-u-g+s+i._initialSpacing-f.getBubbleSpacing(),s=0):o=i.isTopToBottom()?u-i._initialSpacing+f.getBubbleSpacing():i.Height-u-g+s),r?(i.isVertical()?d.setTranslateX(d.getTranslateX()+i._canvasOffsetX+s):d.setTranslateY(d.getTranslateY()+i._canvasOffsetY+s),r.addProp(t.Animator.TYPE_NUMBER,d,d.getTranslateX,d.setTranslateX,n),r.addProp(t.Animator.TYPE_NUMBER,d,d.getTranslateY,d.setTranslateY,o)):d.setTranslate(n,o),e._updateAriaLabel()},b._getBubbleContent=function(e,i){var s,r=i.getCtx(),a=t.Agent.isRightToLeft(r),n=e.getTitle(),o=e.getDescription(),l=e.getThumbnail(),h=new t.Container(r),_=0,c=0,g=0,u=0,d=0,m=e._timeline.getOptions().itemBubbleContentRenderer;if(m&&(s=m(e.getRendererContext()))){var S=h.getContainerElem();Array.isArray(s)?s.forEach(function(e){t.ToolkitUtils.appendChildElem(S,e)}):t.ToolkitUtils.appendChildElem(S,s);var p=i._blocks[i._blocks.length-1];p.setClassName("oj-timeline-item-bubble"),p.addChild(h);var v=h.getDimensions();return h._w=v.w,h._h=v.h,h._x=a?v.w+v.x:v.x,h._y=v.y,p.removeChild(h),h}if(a){if(n&&((O=new t.OutputText(r,n,0,0)).setCSSStyle(f.getItemTitleStyle(e)),_=(A=O.getDimensions()).w,c=d=A.h,h.addChild(O)),o){(C=new t.OutputText(r,o,0,c)).setCSSStyle(f.getItemDescriptionStyle(e));var T=(A=C.getDimensions()).w;0!=_&&T!=_?T>_?(O.setX(T-_),_=T):C.setX(_-T):_=T,d=c+A.h,h.addChild(C)}l&&(b=f.getThumbnailWidth(),y=f.getThumbnailHeight(),_=0==_?0:_+f.getItemContentSpacing(),(E=new t.Image(r,l,_,0,b,y,"_tn")).setMouseEnabled(!1),h.addChild(E),g=b,u=y),h._w=_+g}else{if(l){var b=f.getThumbnailWidth(),y=f.getThumbnailHeight(),E=new t.Image(r,l,0,0,b,y,"_tn");E.setMouseEnabled(!1),h.addChild(E),_=b+f.getItemContentSpacing(),u=y}if(n){var O=new t.OutputText(r,n,_,0);O.setCSSStyle(f.getItemTitleStyle(e));var A=O.getDimensions();g=A.w,c=d=A.h,h.addChild(O)}if(o){var C=new t.OutputText(r,o,_,c);C.setCSSStyle(f.getItemDescriptionStyle(e)),A=C.getDimensions(),g=Math.max(g,A.w),d=c+A.h,h.addChild(C)}h._w=0==g?Math.max(_-f.getItemContentSpacing(),0):_+g}return h._h=Math.max(u,d),h},b._updateBubble=function(e,t,i){var s=t.calculateSpacing(e,i);e.setSpacing(s)},b._renderFeeler=function(e,i,s,r,a){var n,o=i.getCtx(),l=t.Agent.isRightToLeft(o),h=e.getId(),_=e.getLoc(),c=e.getSpacing(),g="_feeler_"+h;if(i.isInverted())u=e.getDurationSize(),d=i.isTopToBottom()?c:i.Height-c-e.getHeight()+r+i._initialSpacing-f.getBubbleSpacing();else{var u=i.Height+r-e.getDurationSize();if(i.isTopToBottom())d=c-i._initialSpacing+f.getBubbleSpacing()+e.getHeight();else var d=i.Height-c+r}n=l?i._length-_:_;var m=new t.Line(o,n,u,n,d,g);a&&(m.setAlpha(0),a.push(m)),s.addChild(m);var S=f.getItemStrokeWidth(),p=f.getItemStrokeColor(e),v=new t.Stroke(p,1,S);m.setStroke(v),m._node=e,e.setFeeler(m)},b._updateFeeler=function(e,i,s,r){if(i.isVertical())e.setFeeler(null);else{var a,n=i.getCtx(),o=t.Agent.isRightToLeft(n),l=e.getFeeler();if(i.isInverted())h=e.getDurationSize(),_=i.isTopToBottom()?e.getSpacing():i.Height-e.getSpacing()-e.getHeight()+s+i._initialSpacing-f.getBubbleSpacing(),s=0;else{var h=i.Height+s-e.getDurationSize();if(i.isTopToBottom())_=e.getSpacing()-i._initialSpacing+f.getBubbleSpacing()+e.getHeight();else var _=i.Height-e.getSpacing()+s}a=o?i._length-e.getLoc():e.getLoc(),r?(l.setY1(l.getY1()+i._canvasOffsetY+s),l.setY2(l.getY2()+i._canvasOffsetY+s),r.addProp(t.Animator.TYPE_NUMBER,l,l.getX1,l.setX1,a),r.addProp(t.Animator.TYPE_NUMBER,l,l.getY1,l.setY1,h),r.addProp(t.Animator.TYPE_NUMBER,l,l.getX2,l.setX2,a),r.addProp(t.Animator.TYPE_NUMBER,l,l.getY2,l.setY2,_)):(l.setX1(a),l.setY1(h),l.setX2(a),l.setY2(_))}},b.renderDuration=function(e,t,i,s,r,a){e.getDurationBar()?b._updateDuration(e,t,s,a):b._renderDuration(e,t,i,s,r)},b._renderDuration=function(e,i,r,a,n){var o=i.getCtx(),l=t.Agent.isRightToLeft(o),h=e.getStartTime(),_=e.getEndTime(),c=s.TimeAxisUtils.getDatePosition(i._start,i._end,h,i._length),g="_duration_"+e.getId(),u=22+10*e.getDurationLevel(),d=s.TimeAxisUtils.getDatePosition(i._start,i._end,_,i._length);if(i.isVertical()){if(!l&&!i.isInverted()||l&&i.isInverted())var m=new t.Rect(o,i._size-u+5,c,u,d-c,g);else m=new t.Rect(o,-5,c,u,d-c,g),a=0;m.setTranslateX(a),m.setY(c),m.setWidth(u),m.setHeight(d-c)}else{var S=d-c;if(l)p=i._length-c-S;else var p=c;i.isInverted()?(m=new t.Rect(o,p,-5,S,u,g)).setTranslateY(0):(m=new t.Rect(o,p,i._size-u+5,S,u,g)).setTranslateY(a)}n&&(m.setAlpha(0),n.push(m)),m.setCornerRadius(5),m.setSolidFill(e.getDurationFillColor());var v=f.getItemStrokeWidth(),T=f.getItemStrokeColor(e),b=new t.Stroke(T,1,v);m.setStroke(b),m._node=e,i._callbackObj.EventManager.associate(m,e),r.addChild(m),e.setDurationBar(m)},b._updateDuration=function(e,i,r,a){var n=i.getCtx(),o=t.Agent.isRightToLeft(n),l=e.getDurationBar();if(null!=l){var h=s.TimeAxisUtils.getDatePosition(i._start,i._end,e.getStartTime(),i._length),_=22+10*e.getDurationLevel(),c=s.TimeAxisUtils.getDatePosition(i._start,i._end,e.getEndTime(),i._length);if(i.isVertical()){var g=0;if(!o&&!i.isInverted()||o&&i.isInverted())var u=i._size-_+5;else u=-5,r=0;var d=r,m=h,S=_,p=c-h}else{d=0;var f=c-h;u=o?i._length-h-f:h,i.isInverted()?(r=0,g=0,m=-5,S=f,p=_):(g=r,m=i._size-_+5,S=f,p=_)}a?(i.isVertical()?l.setTranslateX(l.getTranslateX()+i._canvasOffsetX+r):l.setTranslateY(l.getTranslateY()+i._canvasOffsetY+r),a.addProp(t.Animator.TYPE_NUMBER,l,l.getTranslateX,l.setTranslateX,d),a.addProp(t.Animator.TYPE_NUMBER,l,l.getTranslateY,l.setTranslateY,g),a.addProp(t.Animator.TYPE_NUMBER,l,l.getX,l.setX,u),a.addProp(t.Animator.TYPE_NUMBER,l,l.getY,l.setY,m),a.addProp(t.Animator.TYPE_NUMBER,l,l.getWidth,l.setWidth,S),a.addProp(t.Animator.TYPE_NUMBER,l,l.getHeight,l.setHeight,p)):(l.setTranslateX(d),l.setTranslateY(g),l.setX(u),l.setY(m),l.setWidth(S),l.setHeight(p))}};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var y=function(e){this._context=e};t.Obj.createSubclass(y,t.Obj),y.prototype.parse=function(e,t){var i=this.buildData(e),s=new Object;return s.start=new Date(e.start).getTime(),s.end=new Date(e.end).getTime(),s.inlineStyle=e.style,e.svgStyle&&(s.inlineStyle=e.svgStyle),s.scale=e.scale,s.timeAxis=e.timeAxis,s.label=e.label,s.emptyText=e.emptyText,s.isIRAnimationEnabled="auto"==e.animationOnDisplay,s.isDCAnimationEnabled="auto"==e.animationOnDataChange,s.items=this._parseDataNode(e.timeline,e.index,i.data,t,s.start,s.end),s.rtl="false",s.isRandomItemLayout=e._isRandomItemLayout,s.customTimeScales=e._cts,s.customFormatScales=e._cfs,null==e.itemLayout||"auto"==e.itemLayout?s.isTopToBottom=e.inverted:s.isTopToBottom="topToBottom"==e.itemLayout,s.data=e._data,s},y.prototype.buildData=function(e){var t={},i=[],s=e.items;if(s)for(var r=0;r<s.length;r++){var a=s[r];i.push(a)}return t.data=i,t},y.prototype._parseDataNode=function(e,t,i,s,r,a){var n=new Array,l=e._series[t];if(i)for(var h=0;h<i.length;h++){var _=this.ParseNodeAttributes(i[h],r,a);if(_){if(l._allowUpdates){var c=this._findExistingItem(_,s);if(c){var g=s.indexOf(c);s.splice(g,1),c.setSpacing(null),c.setDurationLevel(null),c.setLoc(null),c.setSelected(!1),c.setStartTime(_.startTime),c.setEndTime(_.endTime),c.setStyle(_.style)}else(c=new o(e,t,_)).setSelectable(!0)}else(c=new o(e,t,_)).setSelectable(!0);for(var u=c.getStartTime(),d=!0,m=0;m<n.length;m++)if(u<n[m].getStartTime()){n.splice(m,0,c),d=!1;break}d&&n.push(c)}}return n},y.prototype._findExistingItem=function(e,i){if(i)for(var s=0;s<i.length;s++){var r=i[s];if(t.Obj.compareValues(this._context,e.id,r.getId())&&e.title==r.getTitle()&&e.desc==r.getDescription()&&e.thumbnail==r.getThumbnail())return r}},y.prototype.getDate=function(e){return null==e?null:e.getTime?e.getTime():isNaN(e)?new Date(e).getTime()+0:e},y.prototype.ParseNodeAttributes=function(e,t,i){var s=new Object;return s.id=e.id,s.rowKey=s.id,s.startTime=this.getDate(e.start),s.endTime=this.getDate(e.end),(s.endTime?s.endTime:s.startTime)<t||s.startTime>i?null:(s.title=e.title,s.desc=e.description,s.thumbnail=e.thumbnail,s.shortDesc=e.shortDesc,s.data=e,s.style=e.style,e.svgStyle&&(s.style=e.svgStyle),s.durationFillColor=e.durationFillColor,s.markerShape=e._markerShape,s.markerScaleX=e._markerScaleX,s.markerScaleY=e._markerScaleY,s.markerShortDesc=e._markerShortDesc,s.markerFillColor=e._markerFillColor,s.markerGradientFill=e._markerGradientFill,s.markerOpacity=e._markerOpacity,0==e._markerSD?s.markerSD="false":s.markerSD="true",s.data=e,s)};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var E=new Object;t.Obj.createSubclass(E,t.Obj),E.renderSeries=function(e,i,s){if(E._renderBackground(e,i,s),E._renderScrollableCanvas(e),E._renderReferenceObjects(e,e._canvas),E._renderSeriesTicks(e),null!=e._items){if(0==e._blocks.length){var r=e.getCtx(),a=new t.Container(r,"itemBlock_"+e._fetchStartPos+"_"+e._fetchEndPos);a.startPos=e._fetchStartPos,a.endPos=e._fetchEndPos;var n=new t.Container(r,"feelers");a.addChild(n),a.feelers=n;var o=new t.Container(r,"durations");a.addChild(o),a.durations=o,e._canvas.addChild(a),e._blocks.push(a)}else a=e._blocks[0];e.prepareDurations(e._items),e.prepareItems(e._items),e._isInitialRender?(e._isIRAnimationEnabled?e._frAnimationElems=[]:e._frAnimationElems=null,e._mvAnimator=null,e._rmAnimationElems=null):e._allowUpdates&&e._isDCAnimationEnabled?(e._frAnimationElems=[],e._mvAnimator=new t.Animator(e.getCtx(),f.getAnimationDuration(e.Options),0,t.Easing.cubicInOut),e._rmAnimationElems=[]):(e._frAnimationElems=null,e._mvAnimator=null,e._rmAnimationElems=null),e._hasMvAnimations=!1;var l=Math.max(0,e._maxOverflowValue-e._size);e._overflowOffset=l,E._adjustBackground(e,l),e._oldItems&&E._removeItems(e._oldItems,e,a,e._rmAnimationElems),e._oldItems=null,e.isVertical()&&a.feelers.removeChildren(),E._renderItems(e._items,e,a,e._fetchStartPos,e._fetchEndPos,l,e._frAnimationElems,e._mvAnimator),e._callbackObj.SelectionHandler&&a.setCursor(t.SelectionEffectUtils.getSelectingCursor()),E._updateReferenceObjects(e),E._updateSeriesTicks(e)}},E.updateSeriesForZoom=function(e){E._updateItemsForZoom(e._items,e),E._updateReferenceObjects(e),E._updateSeriesTicks(e)},E._renderBackground=function(e,i,s){if(e._background){var r=!1;e._background.setWidth(i),e._background.setHeight(s)}else r=!0,e._background=new t.Rect(e.getCtx(),0,0,i,s,"bg");e._background.setCSSStyle(e._style),e._background.setPixelHinting(!0),r&&e.addChild(e._background)},E._adjustBackground=function(e,i){var s=e.getCtx(),r=t.Agent.isRightToLeft(s);i>0&&(e.isVertical()?e._background.setWidth(e._maxOverflowValue):e._background.setHeight(e._maxOverflowValue)),e.isVertical()?(!e.isInverted()&&!r||e.isInverted()&&r)&&(e._background.setTranslateX(-i),e.setHScrollPos(i)):e.isInverted()||(e._background.setTranslateY(-i),e.setVScrollPos(i))},E._renderScrollableCanvas=function(e){if(e._canvas)return e._canvasOffsetX=e._canvas.getTranslateX(),e._canvasOffsetY=e._canvas.getTranslateY(),e._canvas.setTranslateX(0),void e._canvas.setTranslateY(0);e._canvas=new t.Container(e.getCtx(),"canvas"),e.addChild(e._canvas)},E._renderItems=function(e,t,i,r,a,n,o,l){for(var h=0;h<e.length;h++){var _=e[h],c=s.TimeAxisUtils.getDatePosition(t._start,t._end,_.getStartTime(),t._length);c<r||c>a||b.renderItem(_,t,i,n,o,l)}if(s.TimeAxisUtils.supportsTouch())for(h=0;h<e.length-1;h++){var g=(_=e[h]).getBubble();if(g){var u=e[h+1];if(!u.getBubble())break;g._setAriaProperty("flowto","_bt_"+u.getId())}}E._renderDurations(e,t,i,n,o,l)},E._updateItemsForZoom=function(e,t){if(null!=e&&0!=e.length){var i=t._fetchStartPos,r=t._fetchEndPos,a=t._blocks[0];a.startPos=i,a.endPos=r,t.isVertical()?t._initialSpacing=20*(t._maxDurationSize>0?1:0)+f.getBubbleSpacing()+10*t._maxDurationSize:t._initialSpacing=20+f.getBubbleSpacing()+10*t._maxDurationSize;for(var n=0;n<e.length;n++){var o=(u=e[n]).getStartTime(),l=s.TimeAxisUtils.getDatePosition(t._start,t._end,o,t._length),h=u.getEndTime();if(h&&h!=o){var _=s.TimeAxisUtils.getDatePosition(t._start,t._end,h,t._length)-l;l+=Math.min(f.getDurationFeelerOffset(),_/2)}u.setLoc(l),t._isRandomItemLayout||u.setSpacing(null)}for(n=0;n<e.length;n++){var c=(u=e[n]).getStartTime();c<t._start||c>t._end||b._updateBubble(u,t,n)}var g=Math.max(0,t._maxOverflowValue-t._size);for(E._adjustBackground(t,g),n=0;n<e.length;n++){var u=e[n];b._displayBubble(u,t,g,null,!1),b._updateFeeler(u,t,g,null),b._updateDuration(u,t,g,null)}}},E._renderDurations=function(e,t,i,s,r,a){for(var n=i.durations,o=t._maxDurationSize;o>0;o--)for(var l=0;l<e.length;l++){var h=e[l],_=h.getStartTime(),c=h.getEndTime();c&&c!=_&&o==h.getDurationLevel()&&b.renderDuration(h,t,n,s,r,a)}},E._renderSeriesTicks=function(e){if(null==e._seriesTicks?(e._seriesTicks=new t.Container(e.getCtx()),e._canvas.addChild(e._seriesTicks)):(e._seriesTicks.removeChildren(),e._seriesTicksArray=[]),e._scale&&e._timeAxis){var i=new t.CSSStyle(f.getSeriesAxisSeparatorStyle());if(e._axisStyleDefaults){var s=e._axisStyleDefaults.separatorColor;s&&i.parseInlineStyle("color:"+s+";")}e._separatorStroke=new t.Stroke(i.getStyle(t.CSSStyle.COLOR),1,1,!1,{dashArray:"3"}),E._renderSeriesTimeAxis(e,e._fetchStartPos,e._fetchEndPos,e._seriesTicks)}},E._updateSeriesTicks=function(e){for(var i=e.getCtx(),r=t.Agent.isRightToLeft(i),a=0;a<e._seriesTicksArray.length;a++){var n=e._seriesTicksArray[a];if(!e.isVertical()&&r)var o=e._length-s.TimeAxisUtils.getDatePosition(e._start,e._end,n.time,e._length);else o=s.TimeAxisUtils.getDatePosition(e._start,e._end,n.time,e._length);e.isVertical()?(n.setX1(0),n.setY1(o),n.setX2(e._maxOverflowValue),n.setY2(o)):(n.setX1(o),n.setY1(0),n.setX2(o),n.setY2(e._maxOverflowValue))}},E._renderSeriesTimeAxis=function(e,i,r,a){var n,o=e.getCtx(),l=t.Agent.isRightToLeft(o),h=e._start,_=e._end;if(e._customTimeScales&&e._customTimeScales[e._scale])n=e._customTimeScales[e._scale].times;else if(e._customFormatScales&&e._customFormatScales[e._scale])n=e._customFormatScales[e._scale].times;else{n=[];var c=s.TimeAxisUtils.getPositionDate(h,_,i,e._length),g=e._timeAxis.adjustDate(c),u=s.TimeAxisUtils.getDatePosition(h,_,g,e._length);for(n.push(g.getTime());u<r;)g=e._timeAxis.getNextDate(g.getTime()),u=s.TimeAxisUtils.getDatePosition(h,_,g,e._length),n.push(g.getTime())}for(var d=0;d<n.length-1;d++){var m=n[d];if(u=s.TimeAxisUtils.getDatePosition(h,_,m,e._length),!e.isVertical()&&l)var S=e._length-u;else S=u;if(e.isVertical())var p=0,f=S,v=e._maxOverflowValue,T=S;else p=S,f=0,v=S,T=e._maxOverflowValue;var b=e.addTick(a,p,v,f,T,e._separatorStroke,"o_tick"+u);b.time=m,e._seriesTicksArray.push(b)}},E._renderReferenceObjects=function(e,i){var r=e.getCtx(),a=t.Agent.isRightToLeft(r);null==e._refObjectsContainer&&(e._refObjectsContainer=new t.Container(r),i.addChild(e._refObjectsContainer));var n=e._referenceObjects;if(n)for(var o=Math.min(1,n.length),l=0;l<o;l++){var h=n[l];if(h){var _=s.TimeAxisUtils.getDatePosition(e._start,e._end,h,e._length);if(0==e._renderedReferenceObjects.length){if(e.isVertical())var c=new t.Line(r,0,_,e._maxOverflowValue,_,"zoomOrder[i]");else a&&(_=e._length-_),c=new t.Line(r,_,0,_,e._maxOverflowValue,"zoomOrder[i]");var g=new t.Stroke(f.getReferenceObjectColor(e.Options));c.setStroke(g),c.setPixelHinting(!0),c.date=h,e._refObjectsContainer.addChild(c),e._renderedReferenceObjects[l]=c}else(c=e._renderedReferenceObjects[l]).date=h,_=s.TimeAxisUtils.getDatePosition(e._start,e._end,c.date,e._length),e.isVertical()?(c.setX1(0),c.setY1(_),c.setX2(e._maxOverflowValue),c.setY2(_)):(a&&(_=e._length-_),c.setX1(_),c.setY1(0),c.setX2(_),c.setY2(e._maxOverflowValue))}}else e._refObjectsContainer.removeChildren(),e._renderedReferenceObjects=[]},E._updateReferenceObjects=function(e){for(var i=e.getCtx(),r=t.Agent.isRightToLeft(i),a=0;a<e._renderedReferenceObjects.length;a++){var n=e._renderedReferenceObjects[a],o=s.TimeAxisUtils.getDatePosition(e._start,e._end,n.date,e._length);e.isVertical()?(n.setX1(0),n.setY1(o),n.setX2(e._maxOverflowValue),n.setY2(o)):(r&&(o=e._length-o),n.setX1(o),n.setY1(0),n.setX2(o),n.setY2(e._maxOverflowValue))}},E._removeItems=function(e,t,i,s){if(s)E._animateItemRemoval(e,t,s);else for(var r=0;r<e.length;r++){var a=e[r],n=a.getBubble();if(i.removeChild(n),!t.isVertical()){var o=i.feelers,l=a.getFeeler();o.removeChild(l)}var h=a.getStartTime(),_=a.getEndTime();if(_&&_!=h){var c=i.durations,g=a.getDurationBar();c.removeChild(g)}}},E._animateItemRemoval=function(e,t,i){for(var s=0;s<e.length;s++){var r=e[s],a=r.getBubble();if(t.isVertical()?a.setTranslateX(a.getTranslateX()+t._canvasOffsetX+t._overflowOffset):a.setTranslateY(a.getTranslateY()+t._canvasOffsetY+t._overflowOffset),i.push(a),!t.isVertical()){var n=r.getFeeler();n.setTranslateY(n.getTranslateY()+t._canvasOffsetY+t._overflowOffset),i.push(n)}var o=r.getStartTime(),l=r.getEndTime();if(l&&l!=o){var h=r.getDurationBar();t.isVertical()?h.setTranslateX(h.getTranslateX()+t._canvasOffsetX+t._overflowOffset):h.setTranslateY(h.getTranslateY()+t._canvasOffsetY+t._overflowOffset),i.push(h)}}};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var O=function(e,t,i){this.Init(e,t,i)};t.Obj.createSubclass(O,t.BaseComponent),O.prototype.Init=function(e,t,i){O.superclass.Init.call(this,e),this._callback=t,this._callbackObj=i,this._blocks=[],this._renderedReferenceObjects=[],this._seriesTicksArray=[]},O.prototype.triggerAnimations=function(){var e=this.getCtx();if(this._rmAnimationElems&&0!=this._rmAnimationElems.length){this._callbackObj.EventManager.removeListeners(this._callbackObj);var i=new t.ParallelPlayable(e,new t.AnimFadeOut(e,this._rmAnimationElems,f.getAnimationDuration(this.Options)));t.Playable.appendOnEnd(i,this._onRmAnimationEnd,this),this._callbackObj.Animation=i,i.play()}else if(this._mvAnimator&&this._hasMvAnimations)this._callbackObj.EventManager.removeListeners(this._callbackObj),t.Playable.appendOnEnd(this._mvAnimator,this._onMvAnimationEnd,this),this._callbackObj.Animation=this._mvAnimator,this._mvAnimator.play();else if(this._frAnimationElems&&0!=this._frAnimationElems.length){this._callbackObj.EventManager.removeListeners(this._callbackObj);var s=new t.ParallelPlayable(e,new t.AnimFadeIn(e,this._frAnimationElems,f.getAnimationDuration(this.Options),(this._isInitialRender,0)));t.Playable.appendOnEnd(s,this._onAnimationEnd,this),this._callbackObj.Animation=s,s.play()}},O.prototype._onRmAnimationEnd=function(){for(var e=0;e<this._rmAnimationElems.length;e++){var i=this._rmAnimationElems[e],s=i.getParent();s&&s.removeChild(i)}this._mvAnimator&&this._hasMvAnimations?(this._callbackObj.Animation=this._mvAnimator,t.Playable.appendOnEnd(this._mvAnimator,this._onMvAnimationEnd,this),this._mvAnimator.play()):this._onMvAnimationEnd()},O.prototype._onMvAnimationEnd=function(){if(this._frAnimationElems&&0!=this._frAnimationElems.length){var e=new t.ParallelPlayable(this.getCtx(),new t.AnimFadeIn(this.getCtx(),this._frAnimationElems,f.getAnimationDuration(this.Options),(this._isInitialRender,0)));t.Playable.appendOnEnd(e,this._onAnimationEnd,this),this._callbackObj.Animation=e,e.play()}else this._onAnimationEnd()},O.prototype._onAnimationEnd=function(){this._callbackObj.onAnimationEnd()},O.prototype.render=function(e,i,r){if(e){this.SetOptions(e),this.Width?this._isInitialRender=!1:this._isInitialRender=!0,this.Width=i,this.Height=r;var a=this.Options.orientation;if(a&&a==s.TimeAxis.ORIENTATION_VERTICAL?(0==this._isVertical?this._allowUpdates=!1:this._allowUpdates=!0,this._isVertical=!0):(this._isVertical?this._allowUpdates=!1:this._allowUpdates=!0,this._isVertical=!1),this.Options){var n=this.Parse(this.Options);this._applyParsedProperties(n)}this._fetchStartPos=0,this._isVertical?(this._fetchEndPos=r,this._maxOverflowValue=i,this._length=r,this._size=i):(this._fetchEndPos=i,this._maxOverflowValue=r,this._length=i,this._size=r),this._isInverted=this.Options.inverted,this._colorCount=0,this._maxDurationSize=0,E.renderSeries(this,i,r),s.TimeAxisUtils.supportsTouch()&&this._items.length>0&&this._setAriaProperty("flowto","_bt_"+this._items[0].getId());var o=this.GetComponentDescription();o&&(t.ToolkitUtils.setAttrNullNS(this.getElem(),"role","img"),t.ToolkitUtils.setAttrNullNS(this.getElem(),"aria-label",t.AriaUtils.processAriaLabel(o)))}else this._handleResize(i,r)},O.prototype.GetComponentDescription=function(){var e=this.Options.translations,i=[e.labelSeries];return this._label?i.push(this._label):i.push(this.Options.index+1),t.ResourceUtils.format(e.labelAndValue,i)},O.prototype._handleResize=function(e,t){this._canvas.setTranslateY(0),this._canvas.setTranslateX(0),this.Width=e,this.Height=t,this._fetchStartPos=0,this._isVertical?(this._fetchEndPos=t,this._maxOverflowValue=e,this._length=t,this._size=e):(this._fetchEndPos=e,this._maxOverflowValue=t,this._length=e,this._size=t),this._background.setWidth(e),this._background.setHeight(t),E.updateSeriesForZoom(this)},O.prototype.applyStyleValues=function(){if(this._style=new t.CSSStyle(f.getSeriesStyle()),this._seriesStyleDefaults=this.Options.seriesStyleDefaults,this._axisStyleDefaults=this.Options.axisStyleDefaults,this._colors=f.getColorsArray(this.Options),this._referenceObjects=this.Options.referenceObjects,this._seriesStyleDefaults){var e=this._seriesStyleDefaults.backgroundColor;e&&this._style.parseInlineStyle("background-color:"+e+";")}this._style.parseInlineStyle(this._inlineStyle)},O.prototype.SetOptions=function(e){this.Options=e},O.prototype.Parse=function(e){return this._parser=new y(this.getCtx()),this._parser.parse(e,this._items)},O.prototype._applyParsedProperties=function(e){this._items&&(this._oldItems=this._items),this._items=e.items,this._items&&this._items.length>0?this._isEmpty=!1:this._isEmpty=!0,this._isIRAnimationEnabled=e.isIRAnimationEnabled,this._isDCAnimationEnabled=e.isDCAnimationEnabled,this._label=e.label,this._timeAxis=e.timeAxis,this._emptyText=e.emptyText,null==this._emptyText&&(this._emptyText=this.Options.translations.labelNoData),this._isTopToBottom=e.isTopToBottom,this._isRandomItemLayout=e.isRandomItemLayout,this._customTimeScales=e.customTimeScales,this._customFormatScales=e.customFormatScales,this._start=e.start,this._end=e.end,this._inlineStyle=e.inlineStyle,this._scale=e.scale,this._converter=e.converter,this._data=e.data,this.applyStyleValues()},O.prototype.calculateSpacing=function(e,t){if(null!=this._items&&0!=this._items.length){var i=this._maxOverflowValue,s=e.getSpacing();if(this._isRandomItemLayout){if(null==s){var r=e.getHeight(),a=this._initialSpacing,n=this._maxOverflowValue-r-a;n<0&&(n=0),s=Math.round(Math.random()*n)+a,this._maxOverflowValue<s+r&&(this._maxOverflowValue=s+r+f.getBubbleSpacing())}return s}if(null==s&&(s=this._initialSpacing),this._isVertical)for(c=0;c<t;c++)i<s+(g=(S=this._items[c]).getWidth()+10)&&(i=s+g);else{for(var o=e.getLoc(),l=e.getWidth()+10,h=f.getBubbleSpacing(),_=[],c=0;c<t;c++){var g=(S=this._items[c]).getWidth()+10,u=S.getLoc();(o>=u&&o<=u+g||u>=o&&u<=o+l)&&_.push(S)}for(var c=0;c<_.length;c++){for(var d=!1,m=0;m<_.length;m++){var S,p=(S=_[m]).getHeight(),v=S.getSpacing();if(s>=v&&s<=v+p){s=v+p+h,e.setSpacing(s),d=!0;break}}if(!d)break}i<s+p&&(i=s+p)}return i>this._maxOverflowValue&&(this._maxOverflowValue=i+f.getBubbleSpacing()),s}},O.prototype.calculateDurationSize=function(e,t){if(null!=this._items&&0!=this._items.length){var i=e.getStartTime(),s=e.getEndTime();if(s&&s!=i){var r=e.getDurationLevel();null==r&&(r=1);for(var a=[],n=0;n<t;n++){var o=(c=this._items[n]).getStartTime(),l=c.getEndTime();l&&l!=o&&i>=o&&i<=l&&a.push(c)}for(n=0;n<a.length;n++){for(var h=!1,_=0;_<a.length;_++){var c,g=(c=a[_]).getDurationLevel();if(r==g){r=g+1,e.setDurationLevel(r),h=!0;break}}if(!h)break}return r>this._maxDurationSize&&(this._maxDurationSize=r),r}}},O.prototype.prepareDurations=function(e){for(var t=0;t<this._items.length;t++){var i=this._items[t],s=i.getStartTime(),r=i.getEndTime();r&&r!=s&&(i.setDurationLevel(this.calculateDurationSize(i,t)),i.setDurationSize(22+10*i.getDurationLevel()-5),null==i.getDurationFillColor()&&(i.setDurationFillColor(this._colors[this._colorCount]),this._colorCount++,this._colorCount==this._colors.length&&(this._colorCount=0)))}},O.prototype.prepareItems=function(e){this.isVertical()?this._initialSpacing=20*(this._maxDurationSize>0?1:0)+f.getBubbleSpacing()+10*this._maxDurationSize:this._initialSpacing=20+f.getBubbleSpacing()+10*this._maxDurationSize;for(var t=0;t<e.length;t++){var i=e[t],r=s.TimeAxisUtils.getDatePosition(this._start,this._end,i.getStartTime(),this._length),a=i.getEndTime();if(a&&a!=i.getStartTime()){var n=s.TimeAxisUtils.getDatePosition(this._start,this._end,a,this._length)-r;r+=Math.min(f.getDurationFeelerOffset(),n/2)}i.setLoc(r)}for(t=0;t<this._items.length;t++)i=this._items[t],(r=s.TimeAxisUtils.getDatePosition(this._start,this._end,i.getStartTime(),this._length))<this._fetchStartPos||r>this._fetchEndPos||b.initializeItem(i,this,t)},O.prototype.getData=function(e){if(e){var t={emptyText:this._data.emptyText,id:this._data.id,itemLayout:this._data.itemLayout,label:this._data.label,svgStyle:this._data.svgStyle,items:this._data.items};return i.TimeComponent.sanitizeData(t,"series")}return this._data},O.prototype.getLabel=function(){return this._label},O.prototype.getEmptyText=function(){return this._emptyText},O.prototype.findItem=function(e){if(null!=this._items)for(var i=0;i<this._items.length;i++){var s=this._items[i];if(t.Obj.compareValues(this.getCtx(),s.getId(),e))return s}return null},O.prototype.isInverted=function(){return this._isInverted},O.prototype.isTopToBottom=function(){return this._isTopToBottom},O.prototype.isVertical=function(){return this._isVertical},O.prototype.addTick=function(e,i,s,r,a,n,o){var l=new t.Line(this.getCtx(),i,r,s,a,o);return l.setStroke(n),l.setPixelHinting(!0),e.addChild(l),l},O.prototype.setVScrollPos=function(e){null!=this._canvas&&this._canvas.setTranslateY(0-e)},O.prototype.setHScrollPos=function(e){null!=this._canvas&&this._canvas.setTranslateX(0-e)};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var A=function(e,t,i){this.Init(e,t,i)};t.Obj.createSubclass(A,i.TimeComponent),A.newInstance=function(e,t,i){return new A(e,t,i)},A.prototype.Init=function(e,i,s){A.superclass.Init.call(this,e,i,s),this.Defaults=new h(e),this.EventManager=new _(this,e,i,s),this.EventManager.addListeners(this),t.Agent.isTouchDevice()?this._keyboardHandler=null:(this._keyboardHandler=new a(this.EventManager),this.EventManager.setKeyboardHandler(this._keyboardHandler))},A.prototype.Parse=function(e){return this._parser=new c,this._parser.parse(e)},A.prototype._applyParsedProperties=function(e){var i=this.Options.orientation;i&&i==s.TimeAxis.ORIENTATION_VERTICAL?this._isVertical=!0:this._isVertical=!1,this._hasOverview=e.hasOverview,this._viewStartTime=e.viewStart,this._viewEndTime=e.viewEnd,this._selectionMode=e.selectionMode,"single"==this._selectionMode?this.SelectionHandler=new t.SelectionHandler(this.getCtx(),t.SelectionHandler.TYPE_SINGLE):"multiple"==this._selectionMode?this.SelectionHandler=new t.SelectionHandler(this.getCtx(),t.SelectionHandler.TYPE_MULTIPLE):this.SelectionHandler=null,this.EventManager.setSelectionHandler(this.SelectionHandler),this._shortDesc=e.shortDesc,this._referenceObjects=e.referenceObjects,this._seriesScale=e.seriesScale,this._timeZoneOffsets=e.timeZoneOffsets,this._seriesScale?(this._seriesConverter=e.seriesConverter,this._seriesTimeAxis=new s.TimeAxis(this.getCtx(),null,null),this._seriesTimeAxis.setIsVertical(this._isVertical),this._seriesTimeAxis.setScale(this._seriesScale),this._seriesTimeAxis.setConverter(this._seriesConverter),this._seriesCustomFormatScales=e.seriesCustomFormatScales,this._dateFormatStrings=this._seriesTimeAxis.getDateFormatStrings(),this._isVertical?(this._seriesTimeAxis.setType("short",this._dateFormatStrings),this._seriesTimeAxis.setDefaultConverter(this._resources.converterVert)):(this._seriesTimeAxis.setType("long",this._dateFormatStrings),this._seriesTimeAxis.setDefaultConverter(this._resources.converter)),this._timeZoneOffsets&&this._seriesTimeAxis.setTimeZoneOffsets(this._timeZoneOffsets)):this._seriesTimeAxis=null,this._defaultInversions=[!1,!0],this._itemPosition=e.itemPosition,this._customTimeScales=e.customTimeScales,this._customFormatScales=e.customFormatScales,this._scale=e.scale,A.superclass._applyParsedProperties.call(this,e)},A.prototype.getTimeAxis=function(){return this._timeAxis},A.prototype.getTimeAxisSize=function(){return this._timeAxis.getSize()},A.prototype.getTimeAxisVisibleSize=function(e){return this._hasOverview||1!=e?this.getTimeAxisSize():this.getTimeAxisSize()-this._timeAxis.getBorderWidth()},A.prototype.select=function(e){this.Options.selection=t.JsonUtils.clone(e),this.SelectionHandler&&this.applyInitialSelections()},A.prototype._bundleTimeAxisOptions=function(e){this._timeAxisOptions={start:e.start,end:e.end,_resources:e._resources,shortDesc:e.shortDesc,_tzo:e._tzo,_ip:e._ip,_cts:this._customTimeScales,_cfs:this._customFormatScales,orientation:e.orientation};var t=this._timeAxisOptions._resources;if(t&&(t.borderTopVisible=!0,t.borderRightVisible=!0,t.borderBottomVisible=!0,t.borderLeftVisible=!0),e.styleDefaults&&e.styleDefaults.minorAxis){var i=e.styleDefaults.minorAxis;this._timeAxisOptions.backgroundColor=i.backgroundColor,this._timeAxisOptions.borderColor=i.borderColor,this._timeAxisOptions.separatorColor=i.separatorColor,this._timeAxisOptions.labelStyle=i.labelStyle}if(e.minorAxis){var s=e.minorAxis;this._timeAxisOptions.scale=s.scale,this._timeAxisOptions.converter=s.converter,this._timeAxisOptions.zoomOrder=s.zoomOrder,this._timeAxisOptions.style=s.style,s.svgStyle&&(this._timeAxisOptions.style=s.svgStyle)}},A.prototype.render=function(e,t,i){if(e){if(A.superclass.render.call(this,e,t,i),this.StopAnimation(),this._fetchStartPos=0,this._isVertical?this._fetchEndPos=i:this._fetchEndPos=t,this.Options.styleDefaults&&(this._majorAxisStyleDefaults=this.Options.styleDefaults.majorAxis,this._seriesStyleDefaults=this.Options.styleDefaults.series),this._scale){this._bundleTimeAxisOptions(this.Options),this.applyAxisStyleValues(),this._timeAxis||(this._timeAxis=new s.TimeAxis(this.getCtx(),null,null)),this._isVertical?this._timeAxis.setBorderVisibility(!1,!0,!1,!0):this._timeAxis.setBorderVisibility(!0,!1,!0,!1),this._timeAxis.setCanvasSize(null);var r=this._timeAxis.getPreferredLength(this._timeAxisOptions,this._canvasLength);r&&this.setContentLength(r),this._timeAxis.hasValidOptions()&&this.prepareViewportLength()}this._populateSeries(),v.renderTimeline(this),this.UpdateAriaAttributes(),s.TimeAxisUtils.supportsTouch()||this.getCtx().setKeyboardFocusArray([this]),this.Animation||this.RenderComplete()}else this._handleResize(t,i)},A.prototype.hasValidSeriesItems=function(){for(var e=0;e<this._seriesOptions.length;e++){var t=this._seriesOptions[e];if(t.items)for(var i=0;i<t.items.length;i++){var s=t.items[i],r=new Date(s.start).getTime();if(!r)return!1;if(s.hasOwnProperty("end")){var a=new Date(s.end).getTime();if(!isNaN(a)&&a<r)return!1}}}return!0},A.prototype.hasValidOptions=function(){var e=this._scale&&-1!=s.TimeAxis._VALID_SCALES.indexOf(this._scale),t=this._scale&&this._customTimeScales&&this._customTimeScales[this._scale],i=this._start&&this._end&&this._end>this._start,r=this._series&&this._series.length>0,a=!!r&&this.hasValidSeriesItems(),n=!this._seriesScale||-1!=s.TimeAxis._VALID_SCALES.indexOf(this._seriesScale),o=!this._seriesScale||this._customTimeScales&&this._customTimeScales[this._seriesScale],l=!this._viewStartTime||!this._viewEndTime||this._viewEndTime>this._viewStartTime,h=!this._viewStartTime||this._viewStartTime>=this._start&&this._viewStartTime<this._end,_=!this._viewEndTime||this._viewEndTime>this._start&&this._viewEndTime<=this._end;return(e||t)&&(n||o)&&i&&r&&a&&l&&h&&_},A.prototype.GetComponentDescription=function(){return this._shortDesc?this._shortDesc:this.Options.translations.componentName},A.prototype.applyStyleValues=function(){if(this._style=new t.CSSStyle(f.getTimelineStyle()),this.Options.styleDefaults){var e=this.Options.styleDefaults.borderColor;e&&this._style.parseInlineStyle("border-color:"+e+";")}if(this._hasOverview){this._overviewSize=this._isVertical?f.getOverviewWidth():f.getOverviewHeight();var i=this.Options.overview,s=i.svgStyle?i.svgStyle:i.style;if(s){var r=new t.CSSStyle(s),a=this._isVertical?r.getWidth():r.getHeight();null!=a&&(this._overviewSize=t.CSSStyle.toNumber(a))}}A.superclass.applyStyleValues.call(this);var n=this._style.getBorderWidth(),o=2*n,l="border:"+o+"px;";this._style.parseInlineStyle(l),this.setStartXOffset(n),this.setStartYOffset(n),this.setBackgroundXOffset(0);var h=3*this.getScrollbarPadding();this.timeDirScrollbarStyles=this.getTimeDirScrollbarStyle(),this.contentDirScrollbarStyles=this.getContentDirScrollbarStyle(),this._backgroundWidth=this.Width,this._backgroundHeight=this.Height,this._isVertical?(this.isContentDirScrollbarOn()&&(this._backgroundHeight=this._backgroundHeight-t.CSSStyle.toNumber(this.contentDirScrollbarStyles.getHeight())-h),this._canvasLength=this._backgroundHeight-o,this._hasOverview?(this._canvasSize=this._backgroundWidth-this._overviewSize-o,this.isRTL()&&this.setStartXOffset(n+this._overviewSize)):(this.isTimeDirScrollbarOn()&&(this._backgroundWidth=this._backgroundWidth-t.CSSStyle.toNumber(this.timeDirScrollbarStyles.getWidth())-h),this._canvasSize=this._backgroundWidth-o,this.isRTL()&&(this.setBackgroundXOffset(this.Width-this._backgroundWidth),this.setStartXOffset(this.getStartXOffset()+this.getBackgroundXOffset())))):(this.isContentDirScrollbarOn()&&(this._backgroundWidth=this._backgroundWidth-t.CSSStyle.toNumber(this.contentDirScrollbarStyles.getWidth())-h),this._canvasLength=this._backgroundWidth-o,this.isRTL()&&(this.setBackgroundXOffset(this.Width-this._backgroundWidth),this.setStartXOffset(this.getStartXOffset()+this.getBackgroundXOffset())),this._hasOverview?this._canvasSize=this._backgroundHeight-this._overviewSize-o:(this.isTimeDirScrollbarOn()&&(this._backgroundHeight=this._backgroundHeight-t.CSSStyle.toNumber(this.timeDirScrollbarStyles.getHeight())-h),this._canvasSize=this._backgroundHeight-o))},A.prototype.applyAxisStyleValues=function(){if(this._seriesStyleDefaults&&this._seriesStyleDefaults.backgroundColor){var e=this._seriesStyleDefaults.backgroundColor,i=t.ColorUtils.getRed(e),s=t.ColorUtils.getGreen(e),r=t.ColorUtils.getBlue(e);this._seriesBackgroundOverlayStyle="background-color:rgba("+i+","+s+","+r+",0.8);"}},A.prototype._populateSeries=function(){var e=this.Options.series;if(e){var t=Math.min(e.length,2);if(this._seriesOptions=[],this._series){if(t!=this._series.length){for(var i=0;i<this._series.length;i++)this._timeZoomCanvas.removeChild(this._series[i]);this._series=[]}}else this._series=[];for(i=0;i<t;i++){var s=e[i];if(s.start=this._start,s.end=this._end,s.inverted=this._defaultInversions[i],s.orientation=this.Options.orientation,s.referenceObjects=this._referenceObjects,s.timeline=this,s.index=i,s.animationOnDisplay=this.Options.animationOnDisplay,s.animationOnDataChange=this.Options.animationOnDataChange,this.Options.majorAxis&&(s.scale=this.Options.majorAxis.scale,s.timeAxis=this._seriesTimeAxis,s._cfs=this._seriesCustomFormatScales),s.styleDefaults=this.Options.styleDefaults,this.Options.styleDefaults&&(s.seriesStyleDefaults=this._seriesStyleDefaults,s.axisStyleDefaults=this._majorAxisStyleDefaults),s._isRandomItemLayout="random"==this._itemPosition,s._cts=this.Options._cts,s._data=e[i],s.translations=this.Options.translations,this._seriesOptions.push(s),null==this._series[i]){var r=new O(this.getCtx(),this.HandleEvent,this);this._series.push(r)}}}else this._series=[]},A.prototype.onAnimationEnd=function(){this.AnimationStopped||this.RenderComplete(),this.EventManager.addListeners(this),this.Animation=null,this.AnimationStopped=!1},A.prototype._getOverviewObject=function(){var e=new Object;e.width=this._contentLength,e.selmode=this._selectionMode,e.rtl=this.isRTL(),e.sid="ts1";var t=f.getOverviewWindowBackgroundColor(this.Options);e._wbc=t,e._hfc=t;var i=f.getOverviewWindowBorderColor(this.Options);return e._wbtc=i,e._wbrc=i,e._wbbc=i,e._wblc=i,e._ls=f.getOverviewLabelStyle(this.Options).toString(),e._obc=f.getOverviewBackgroundColor(this.Options),e._ctic=f.getReferenceObjectColor(this.Options),this._referenceObjects&&this._referenceObjects.length>0&&this._referenceObjects[0]&&(e.ocd=this._referenceObjects[0].getTime()),this._isVertical?(e.orn="vertical",e.yMin=this._start,e.yMax=this._end,e.y1=this._viewStartTime,e.y2=this._viewEndTime):(e.orn="horizontal",e.xMin=this._start,e.xMax=this._end,e.x1=this._viewStartTime,e.x2=this._viewEndTime,e._ds="square",e._dsx="1.3d",e._dsy="0.9d"),this._resources.overviewHandleVert&&(e._vhbc=this._resources.overviewHandleVert,e._vhs=16),this._resources.overviewHandleHor&&(e._hbc=this._resources.overviewHandleHor,e._hs=16),e.axisTicks=this._getOverviewAxisOptions(),e.markers=this._getOverviewMarkerOptions(),e},A.prototype._getOverviewAxisOptions=function(){var e=[];if(this._seriesTimeAxis){var t,i;if(this._customTimeScales&&this._customTimeScales[this._seriesScale]){var r=this._customTimeScales[this._seriesScale];t=r.times,i=r.labels}else if(this._seriesCustomFormatScales&&this._seriesCustomFormatScales[this._seriesScale]){var a=this._seriesCustomFormatScales[this._seriesScale];t=a.times,i=a.labels}else{t=[],i=[];for(var n=this._start,o=this._end,l=this._isVertical?this.Height:this.Width,h=s.TimeAxisUtils.getPositionDate(n,o,this._fetchStartPos,l),_=this._seriesTimeAxis.adjustDate(h),c=s.TimeAxisUtils.getDatePosition(n,o,_,l);c<this._fetchEndPos;)i.push(this._seriesTimeAxis.formatDate(_)),t.push(_.getTime()),_=this._seriesTimeAxis.getNextDate(_.getTime()),c=s.TimeAxisUtils.getDatePosition(n,o,_,l)}for(var g=0;g<i.length;g++){var u=new Object;u.time=t[g],u.label=i[g],e.push(u)}}return e},A.prototype._getOverviewMarkerOptions=function(){if(this._series){for(var e=[],t=this._series.length,i=0;i<t;i++)for(var s=this._series[i]._items,r=0;r<s.length;r++){var a=s[r],n=new Object;n.rk=r,n.sid=i,n.tid=a.getId(),n.t=a.getStartTime(),n._sd=a.getMarkerSD(),this._isVertical||(a.getMarkerShape()&&(n.s=a.getMarkerShape()),a.getMarkerScaleX()&&(n.sx=a.getMarkerScaleX()),a.getMarkerScaleY()&&(n.sy=a.getMarkerScaleY())),a.getMarkerShortDesc()&&(n.d=a.getMarkerShortDesc()),a.getMarkerFillColor()&&(n.c=a.getMarkerFillColor()),a.getMarkerGradientFill()&&(n.g=a.getMarkerGradientFill()),a.getMarkerOpacity()&&(n.o=a.getMarkerOpacity());var o=a.getEndTime();if(o){n.et=o;var l=a.getDurationFillColor();l&&(n.dfc=l)}e.push(n)}return e}},A.prototype.createViewportChangeEvent=function(){return t.EventFactory.newTimelineViewportChangeEvent(this._viewStartTime,this._viewEndTime,this._timeAxis.getScale())},A.prototype.HandleTouchStart=function(e){1==e.touches.length&&(this._dragPanSeries=this._findSeries(e.target))},A.prototype.HandleMouseWheel=function(e){if(A.superclass.HandleMouseWheel.call(this,e),this.hasValidOptions()&&e.zoomWheelDelta){var t=this.getCtx().pageToStageCoords(e.pageX,e.pageY);if(this.getGraphicalAreaBounds().containsPoint(t.x,t.y)){var i=this.getContentLength()*e.zoomWheelDelta,s=e.zoomTime,r=e.zoomCompLoc;this.handleZoomWheel(i,s,r,!0)}}},A.prototype.handleZoomWheel=function(e,t,i,s){e>this._timeAxis.getMaxContentLength()?(e=this._timeAxis.getMaxContentLength(),this.disableZoomButton(!0)):this.enableZoomButton(!0),this._canvasLength>e?(e=this._canvasLength,this.disableZoomButton(!1)):this.enableZoomButton(!1);var r=this.getContentLength()<=e;A.superclass.handleZoomWheel.call(this,e,t,i,s);var a=this._timeAxis.getZoomLevelLengths();if(r)for(;this._timeAxis.getZoomLevelOrder()>0;){var n=a[this._timeAxis.getZoomLevelOrder()-1];if(!(this.getContentLength()>=n))break;this._timeAxis.setZoomLevelOrder(this._timeAxis.getZoomLevelOrder()-1),this._timeAxis.decreaseScale()}else for(;this._timeAxis.getZoomLevelOrder()<a.length-1&&(n=a[this._timeAxis.getZoomLevelOrder()],this.getContentLength()<n);)this._timeAxis.setZoomLevelOrder(this._timeAxis.getZoomLevelOrder()+1),this._timeAxis.increaseScale();if(this._hasOverview&&(this._isVertical?this._overview.setViewportRange(null,null,this._viewStartTime,this._viewEndTime):this._overview.setViewportRange(this._viewStartTime,this._viewEndTime,null,null)),this.isTimeDirScrollbarOn()&&this.timeDirScrollbar.setViewportRange(this._viewStartTime,this._viewEndTime),this.applyAxisStyleValues(),v._renderAxis(this,this._timeZoomCanvas),this.updateSeries(),this.isContentDirScrollbarOn())for(var o=0;o<this._series.length;o++)this.contentDirScrollbar[o].setViewportRange(0,this._seriesSize,0,Math.max(this._series[o]._maxOverflowValue,this._seriesSize));s&&this.dispatchEvent(this.createViewportChangeEvent())},A.prototype.updateSeries=function(){if(this._series){var e=this._series.length,i=this.getTimeAxisVisibleSize(e);this._seriesSize=(this._canvasSize-i)/e;for(var s=0;s<e;s++){var r=this._series[s];r.setClipPath(null);var a=new t.ClipPath;if(this._isVertical){if(this.isRTL())var n=Math.abs(s-1);else n=s;if(this.isRTL()&&1==this._series.length){a.addRect(i,0,this._seriesSize,this.getContentLength());var o=new t.Matrix(1,0,0,1,i,0)}else a.addRect(n*(this._seriesSize+i),0,this._seriesSize,this.getContentLength()),o=new t.Matrix(1,0,0,1,n*(this._seriesSize+i),0);var l=this._seriesSize,h=this.getContentLength()}else a.addRect(0,s*(this._seriesSize+i),this.getContentLength(),this._seriesSize),o=new t.Matrix(1,0,0,1,0,s*(this._seriesSize+i)),l=this.getContentLength(),h=this._seriesSize;r.setClipPath(a),r.setMatrix(o),r.render(null,l,h)}}},A.prototype._handleResize=function(e,t){if(this.Width=e,this.Height=t,this.applyStyleValues(),this._fetchStartPos=0,this._isVertical?this._fetchEndPos=t:this._fetchEndPos=e,this.prepareViewportLength(),v._renderBackground(this),this.hasValidOptions()){if(this.renderTimeZoomCanvas(this._canvas),this.applyAxisStyleValues(),this.updateSeries(),v._renderAxis(this,this._timeZoomCanvas),v._renderSeriesLabels(this),v._renderZoomControls(this),this._hasOverview&&(v._renderOverview(this),this.SelectionHandler)){var i=this.SelectionHandler.getSelectedIds();if(i&&0!=i.length)for(var s=0;s<i.length;s++)this._overview.selSelectItem(i[s])}(this.isTimeDirScrollbarOn()||this.isContentDirScrollbarOn())&&v._renderScrollbars(this)}else v._renderEmptyText(this);this.Animation||this.RenderComplete()},A.prototype.HandleKeyDown=function(e){t.KeyboardEvent.RIGHT_ARROW!=e.keyCode&&t.KeyboardEvent.LEFT_ARROW!=e.keyCode&&t.KeyboardEvent.DOWN_ARROW!=e.keyCode&&t.KeyboardEvent.UP_ARROW!=e.keyCode||this.updateScrollForItemNavigation(this.EventManager.getFocus())},A.prototype.HandleMouseDown=function(e){this._dragPanSeries=this._findSeries(e.target)},A.prototype.endDragPan=function(){this._dragPanSeries=null,this.endPan()},A.prototype.endPan=function(){this._triggerViewportChange&&(this._triggerViewportChange=!1,this.dispatchEvent(this.createViewportChangeEvent()))},A.prototype.panBy=function(e,t){var i=this._series.length,s=this.getTimeAxisVisibleSize(i);if(this._isVertical){if(this._dragPanSeries){var r=this._dragPanSeries.getTranslateX()-e;if(this._series.length>1&&(!this.isRTL()&&this._dragPanSeries._isInverted||this.isRTL()&&!this._dragPanSeries._isInverted))var a=s+2*this._dragPanSeries.Width-this._dragPanSeries._maxOverflowValue,n=this._dragPanSeries.Width+s;else this.isRTL()&&!this._dragPanSeries._isInverted?(a=this._dragPanSeries.Width-this._dragPanSeries._maxOverflowValue+s,n=s):(a=0,n=this._dragPanSeries._maxOverflowValue-this._dragPanSeries.Width);if(r<a?r=a:r>n&&(r=n),this._dragPanSeries.setTranslateX(r),this.isContentDirScrollbarOn())if(this._series[0]==this._dragPanSeries)if(this.isRTL()){if(2==i)var o=this.getTimeAxisVisibleSize()+this._seriesSize-r;else o=this.getTimeAxisVisibleSize()-r;this.contentDirScrollbar[0].setViewportRange(o,o+this._seriesSize)}else this.contentDirScrollbar[0].setViewportRange(r,r+this._seriesSize);else this.isRTL()?this.contentDirScrollbar[1].setViewportRange(r,r+this._seriesSize):(o=this.getTimeAxisVisibleSize()+this._seriesSize-r,this.contentDirScrollbar[1].setViewportRange(o,o+this._seriesSize))}this.panZoomCanvasBy(t),this._hasOverview&&this._overview.setViewportRange(null,null,this._viewStartTime,this._viewEndTime),this.isTimeDirScrollbarOn()&&this.timeDirScrollbar.setViewportRange(this._viewStartTime,this._viewEndTime)}else if(this.panZoomCanvasBy(e),this._hasOverview&&this._overview.setViewportRange(this._viewStartTime,this._viewEndTime,null,null),this.isTimeDirScrollbarOn()&&this.timeDirScrollbar.setViewportRange(this._viewStartTime,this._viewEndTime),this._dragPanSeries){var l=this._dragPanSeries.getTranslateY()-t;if(this._dragPanSeries._isInverted)var h=s+2*this._dragPanSeries.Height-this._dragPanSeries._maxOverflowValue,_=this._dragPanSeries.Height+s;else h=0,_=this._dragPanSeries._maxOverflowValue-this._dragPanSeries.Height;l<h?l=h:l>_&&(l=_),this._dragPanSeries.setTranslateY(l),this.isContentDirScrollbarOn()&&(this._series[0]==this._dragPanSeries?this.contentDirScrollbar[0].setViewportRange(l,l+this._seriesSize):(o=this.getTimeAxisVisibleSize()+this._seriesSize-l,this.contentDirScrollbar[1].setViewportRange(o,o+this._seriesSize)))}},A.prototype.HandleEvent=function(e,i){var s=e.type;if("dvtSimpleScrollbar"==(s=e.type))e=this.processScrollbarEvent(e,i);else if("selection"==s)this.dispatchEvent(e);else if("overview"==s){if("rangeChanging"==(_=e.subtype)||"rangeChange"==_){var r=this._viewEndTime-this._viewStartTime;this._isVertical?(this._viewStartTime=e.newY1,this._viewEndTime=e.newY2):(this._viewStartTime=e.newX1,this._viewEndTime=e.newX2);var a=this._viewEndTime-this._viewStartTime;if(a>0){var n=this._canvasLength/a;this.setContentLength(n*(this._end-this._start)),this.setRelativeStartPos(n*(this._start-this._viewStartTime));var o=this._timeAxis.getZoomLevelLengths();if(r>a){for(var l=o[(h=o.length)-1];this.getContentLength()>=l&&h>0;)l=o[--h-1];h==o.length&&h--,this._timeAxis.setZoomLevelOrder(h),this._timeAxis.setScale(this._timeAxis.getZoomOrder()[h])}else{var h;for(l=o[h=0];this.getContentLength()<l&&h<o.length-1;)l=o[++h];this._timeAxis.setZoomLevelOrder(h),this._timeAxis.setScale(this._timeAxis.getZoomOrder()[h])}this.applyAxisStyleValues(),v._renderAxis(this,this._timeZoomCanvas),this.updateSeries(),this.applyTimeZoomCanvasPosition()}"rangeChange"==_&&this.dispatchEvent(this.createViewportChangeEvent())}"scrollPos"!=_&&"scrollTime"!=_||(this._isVertical?(this._viewStartTime=e.newY1,this._viewEndTime=e.newY2):(this._viewStartTime=e.newX1,this._viewEndTime=e.newX2),n=this.getContentLength()/(this._end-this._start),this.setRelativeStartPos(n*(this._start-this._viewStartTime)),this.applyTimeZoomCanvasPosition(),this.dispatchEvent(this.createViewportChangeEvent()))}else if(s="timeline"){var _;if("selection"==(_=e.subtype))for(var c=e.itemId,g=e.isMultiSelect&&"multiple"==this._selectionMode,u=0;u<this._series.length;u++)for(var d=this._series[u],m=0;m<d._items.length;m++){var S=d._items[m];if(t.Obj.compareValues(this.getCtx(),S.getId(),c)){this.EventManager.setFocusObj(S),this.updateScrollForItemSelection(S),this.SelectionHandler._addToSelection(S,g)&&this.EventManager.fireSelectionEvent(S);break}}else if("highlight"==_){var p=e.itemId;for(u=0;u<this._series.length;u++)for(d=this._series[u],m=0;m<d._items.length;m++)if(S=d._items[m],t.Obj.compareValues(this.getCtx(),S.getId(),p)){S.showHoverEffect(!0);break}}else if("unhighlight"==_)for(p=e.itemId,u=0;u<this._series.length;u++)for(d=this._series[u],m=0;m<d._items.length;m++)if(S=d._items[m],t.Obj.compareValues(this.getCtx(),S.getId(),p)){S.hideHoverEffect(!0);break}}},A.prototype.processScrollbarEvent=function(e,t){A.superclass.processScrollbarEvent.call(this,e,t);var i=e.newMin;t==this.contentDirScrollbar[0]?this.isVertical()?2==this._series.length?this._series[0].setTranslateX(this.isRTL()?this.getTimeAxisVisibleSize()+this._seriesSize-i:i):this._series[0].setTranslateX(this.isRTL()?this.getTimeAxisVisibleSize()-i:i):this._series[0].setTranslateY(i):t==this.contentDirScrollbar[1]&&(this.isVertical()?this._series[1].setTranslateX(this.isRTL()?i:this.getTimeAxisVisibleSize()+this._seriesSize-i):this._series[1].setTranslateY(this.getTimeAxisVisibleSize()+this._seriesSize-i))},A.prototype.updateScrollForItemSelection=function(e){var t=this._viewEndTime-this._viewStartTime;this._viewStartTime=e.getStartTime()-t/2,this._viewStartTime<this._start?this._viewStartTime=this._start:this._viewStartTime+t>this._end&&(this._viewStartTime=this._end-t),this._viewEndTime=this._viewStartTime+t;var i=this.getContentLength()/(this._end-this._start);this.setRelativeStartPos(i*(this._start-this._viewStartTime)),this.applyTimeZoomCanvasPosition(),this.dispatchEvent(this.createViewportChangeEvent())},A.prototype.updateScrollForItemNavigation=function(e){var t=this._isVertical?e.getHeight():e.getWidth(),i=f.getItemHoverStrokeWidth(),s=e.getLoc()-(this._isVertical?t/2+i:f.getBubbleOffset()+i),r=this.getRelativeStartPos();this.isRTL()&&!this._isVertical&&(s-=i);var a=s+t+2*i,n=r-this._canvasLength;-s>r?r=-s:-a<n&&(r=-a+this._canvasLength);var o=this.getContentLength()/(this._end-this._start),l=this._viewEndTime-this._viewStartTime;this._viewStartTime=this._start-r/o,this._viewStartTime<this._start&&(this._viewStartTime=this._start,r=(this._start-this._viewStartTime)*o),this._viewEndTime=this._viewStartTime+l,this._viewEndTime>this._end&&(this._viewEndTime=this._end,this._viewStartTime=this._viewEndTime-l,r=(this._start-this._viewStartTime)*o),this.setRelativeStartPos(r),this.applyTimeZoomCanvasPosition(),this._hasOverview&&(this._isVertical?this._overview.setViewportRange(null,null,this._viewStartTime,this._viewEndTime):this._overview.setViewportRange(this._viewStartTime,this._viewEndTime,null,null)),this.isTimeDirScrollbarOn()&&this.timeDirScrollbar.setViewportRange(this._viewStartTime,this._viewEndTime),this.dispatchEvent(this.createViewportChangeEvent())},A.prototype.applyInitialSelections=function(){if(this.Options.selection)for(var e=[],t=0;t<this._series.length;t++)for(var i=this._series[t],s=0;s<i._items.length;s++)e.push(i._items[s]);this.SelectionHandler.processInitialSelections(this.Options.selection,e)},A.prototype._findSeries=function(e){if(this.hasValidOptions()&&e&&e!=this){var t=e.getId();return e==this._series[0]||this._series.length>1&&e==this._series[1]?e:t&&"_s0"==t.substring(t.length-3,t.length)?this._series[0]:t&&"_s1"==t.substring(t.length-3,t.length)?this._series[1]:this._findSeries(e.getParent())}return null},A.prototype._findDrawable=function(e){if(e){var t=e.getId();if(t&&"_duration_"==t.substring(0,10)&&e._node)return e;var i=e.getParent();if(i){if(t&&"zoom"==t.substring(0,4))return e;if(t&&"_bubble_"==t.substring(0,8)&&i._node)return i;var s=i.getParent();if(s){if(t&&"_bubble_"==t.substring(0,8)&&s._node)return s;if((t=s.getId())&&"_bubble_"==t.substring(0,8)&&s.getParent())return s.getParent()}}}return null},A.prototype.getAutomation=function(){return this.Automation||(this.Automation=new l(this)),this.Automation},A.prototype.clearComponent=function(){A.superclass.clearComponent.call(this),this.clearOverview()},A.prototype.clearOverview=function(){this._overviewCanvas&&(this.removeChild(this._overviewCanvas),this._overviewCanvas=null)},A.prototype.isTimeDirScrollbarOn=function(){return!this._hasOverview},A.prototype.isContentDirScrollbarOn=function(){return!0},A.prototype.getBackgroundXOffset=function(){return this._backgroundX},A.prototype.setBackgroundXOffset=function(e){this._backgroundX=e},e.Timeline=A,e.TimelineOverview=p,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojtimeline-toolkit.js.map