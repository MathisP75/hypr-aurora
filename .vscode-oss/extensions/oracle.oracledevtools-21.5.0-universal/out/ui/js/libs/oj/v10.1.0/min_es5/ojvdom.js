!function(){function e(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */define(["exports","ojs/ojcustomelement-utils","ojs/ojcore-base","ojs/ojdefaultsutils","ojs/ojlogger"],function(n,r,o,i,l){"use strict";o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;var u=Object.freeze({}),a=new Set(["key","ref","children"]);function f(e){return e?"string"==typeof e?Object.freeze(e.split(" ").reduce(function(e,n){return n&&(e[n]=!0),e},{})):e:u}function s(e,n){return(null==e.key&&null==n.key||e.key===n.key)&&e._isWrapped===n._isWrapped&&(e._node&&e===n||!e._node)}function c(e){return(null==e?void 0:e.mount)&&(null==e?void 0:e.patch)&&(null==e?void 0:e.notifyUnmounted)&&(null==e?void 0:e.notifyMounted)}var d="http://www.w3.org/1999/xlink",v={show:d,actuate:d},p=Symbol();function y(e){return"TEMPLATE"===e.nodeName}function m(e,n,t,r){for(var o in n){var i=t[o],l=n[o];i!==l&&(e[o]=l)}for(var u in t)u in n||(e[u]=r)}function h(e,n,r,o){o?function(e,n,t){var r=f(t),o=f(n);for(var i in r)r[i]&&!o[i]&&e.classList.remove(i);for(var l in o)o[l]&&!r[l]&&e.classList.add(l)}(e,n,r):function(e,n){if(n){var r="object"===t(n)?Object.keys(n).filter(function(e){return n[e]}).join(" "):n;e.setAttribute("class",r)}else e.removeAttribute("class")}(e,n)}function _(e,n,t,o){return!(!t&&!o||!r.AttributeUtils.isEventListenerProperty(n))&&(function(e,n,t,r){r&&e.removeEventListener(n,r,r[p]);t&&e.addEventListener(n,t,t[p])}(e,r.AttributeUtils.eventListenerPropertyToEventType(n),t,o),!0)}function g(e,n,t,o){if(function(e,n,t){if(t)return r.AttributeUtils.isGlobalOrData(n);return"value"!==n&&"checked"!==n&&("render"!==n||!y(e))}(e,n,o)){var i=r.AttributeUtils.getNativeAttr(n);if("draggable"===n)null==t?e.removeAttribute("draggable"):e.setAttribute("draggable",t.toString());else if(!0===t)e.setAttribute(i,"");else if(!1===t)e.removeAttribute(i);else if(null!=t){var l=v[i];void 0!==l?e.setAttributeNS(l,i,t):e.setAttribute(i,t)}else e.removeAttribute(i);return!0}return!1}function b(e,n){var t,r,o,i,l,u,a,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,v=arguments.length>5&&void 0!==arguments[5]?arguments[5]:n.length-1,p=c-f+1,y=v-d+1,m=p+y,h=[];e:for(t=0;t<=m;t++){if(t>50)return null;for(a=t-1,l=t?h[t-1]:[0,0],u=h[t]=[],r=-t;r<=t;r+=2){for(o=(i=r===-t||r!==t&&l[a+r-1]<l[a+r+1]?l[a+r+1]:l[a+r-1]+1)-r;i<y&&o<p&&s(e[f+o],n[d+i]);)i++,o++;if(i===y&&o===p)break e;u[t+r]=i}}var _,g=Array(t/2+m/2),b={},E=new Map,w=g.length-1;for(t=h.length-1;t>=0;t--){for(;i>0&&o>0&&s(e[f+o-1],n[d+i-1]);)g[w--]=2,i--,o--;if(!t)break;a=t-1,l=t?h[t-1]:[0,0],(r=i-o)===-t||r!==t&&l[a+r-1]<l[a+r+1]?(o--,g[w--]=4):(i--,g[w--]=8,null!=(_=n[d+i]).key?b[_.key]=d+i:_._isWrapped&&E.set(_._node,d+i))}return{diff:g,keymap:b,wrapmap:E}}function E(e,n,t,r,o,i){var l=r-t+1,u=i-o+1,a=Math.min(l,u),f=Array(a+1);f[0]=-1;for(var c=1;c<f.length;c++)f[c]=i+1;for(var d=Array(a),v={},p=[],y=new Map,m=o;m<=i;m++){var h=n[m],_=h.key;null!=_?v[_]=m:h._isWrapped?y.set(h._node,m):p.push(m)}for(var g=0,b=t;b<=r;b++){var E=e[b],S=void 0,A=!1;if(null!=E.key?S=v[E.key]:E._isWrapped?S=y.get(E._node):(A=!0,S=p[g]),null==S||s(E,n[S])?A&&g++:S=null,null!=S){var k=w(f,S);k>=0&&(f[k]=S,d[k]={newi:b,oldi:S,prev:d[k-1]})}}for(var C=f.length-1;f[C]>i;)C--;for(var j=d[C],O=Array(u+l-C),M=r,T=i,x=O.length-1;j;){for(var G=j,U=G.newi,V=G.oldi;M>U;)O[x--]=4,M--;for(;T>V;)O[x--]=8,T--;O[x--]=2,M--,T--,j=j.prev}for(;M>=t;)O[x--]=4,M--;for(;T>=o;)O[x--]=8,T--;return{diff:O,keymap:v,wrapmap:y}}function w(e,n){for(var t=1,r=e.length-1;t<=r;){var o=Math.ceil((t+r)/2);n<e[o]?r=o-1:t=o+1}return t}var S="http://www.w3.org/2000/svg";function A(n){var r,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t(n);if(null==n||"boolean"===i)return[];if(Array.isArray(n))return(r=[]).concat.apply(r,e(n.map(function(e){return A(e,o)})));if(!ee(n))return[{_text:n}];var l=n;return o&&!l.isSVG&&(l.isSVG=!0),[l]}function k(e){var n,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.content=A(e.content,e.isSVG),e._isWrapped)return e._node;if(null!=e._node)throw new Error("Trying to mount already mounted vnode");if(null!=e._text)n=document.createTextNode(e._text);else{var o=e.type,i=e.props,l=e.content,u=e.isSVG;if("string"==typeof o)P(n=u?document.createElementNS(S,o):document.createElement(o),i,null,t||e.isCustomElement),y(n)?M(n,l):O(n,l);else if("function"==typeof o)if(e.isComponent){var a,f=o,s=V(f,i,e.isCustomElement);e._uncontrolled=s.uncontrolled,(a=new f(s.controlled))._uniqueId=r.ElementUtils.getUniqueId(i.id),n=a.mount(s.controlled,l,s.uncontrolled),e._data=a}else{var c=o,d=c(i,l);n=k(d),e._data=d}}if(null==n)throw new Error("Unknown node type!");return e._node=n,e.isCustomElement&&Object.defineProperty(n,"_ojBndgPrv",{value:"none"}),n}function C(e){var n;if(e.content=A(e.content,e.isSVG),null!=e._text)n=document.createTextNode(e._text);else{var t=e.type,r=e.props,o=e.isSVG;"string"==typeof t&&(L(n=o?document.createElementNS(S,t):document.createElement(t),r,null,e.isCustomElement),M(n,e.content))}if(null==n)throw new Error("content inside <template> elements is limited to HTML elements and text");return e._node=n,n}function j(e){if(!e._isWrapped)if(e.isComponent){var n=e._data;J(e.ref,n),J(n._vnode.props.ref,e._node),e.isCustomElement||n.notifyMounted()}else"function"!=typeof e.type&&J(e.ref,e._node)}function O(e,n){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.length-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;t<=r;){var l=t++,u=n[l];if(u._isWrapped){n[l]=Y(e,u,i);var a=u._node;1===a.nodeType&&o.Components&&o.Components.subtreeShown(a)}else n[l]=Y(e,u,i)}}function M(e,n){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.length-1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;t<=r;){var i=t++,l=n[i];$(e,l,o)}}function T(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.length-1,o=void 0;for(e.childNodes.length===r-t+1&&(e.textContent="",o=!0);t<=r;){var i=n[t++];o||H(e,i)}}function x(e){if(Array.isArray(e))for(var n=0;n<e.length;n++)x(e[n]);else{if(e.isComponent)e._data.notifyUnmounted();else null!=e.content&&x(e.content);(e.isComponent||"function"!=typeof e.type)&&J(e.ref,null)}}function G(e,n,t,r){if(t!==r)return!0;for(var o in e)if(e[o]!==n[o])return!0;return!1}function U(e,n){var t,r,o=e.metadata;return null!=(null===(r=null===(t=null==o?void 0:o.extension)||void 0===t?void 0:t._ROOT_PROPS_MAP)||void 0===r?void 0:r[n])}function V(e,n,t){var o=i.DefaultsUtils.getStaticDefaults(e,e.metadata,!0),l={controlled:Object.create(o),uncontrolled:{}};for(var u in n){var a=n[u];void 0!==a&&Q(e,u)&&(t&&r.AttributeUtils.isGlobalOrData(u)&&!U(e,u)?l.uncontrolled[u]=a:l.controlled[u]=a)}return l}function P(e,n,t,r){n&&function(e,n,t,r){Object.keys(n).forEach(function(o){if(!a.has(o)){var i=n[o],l=t[o];i!==l&&("style"===o?m(e.style,i||u,l||u,""):"class"===o?h(e,i,l,r):_(e,o,i,l)||g(e,o,i,r)||(e[o]=i))}})}(e,n,t||u,r),t&&function(e,n,t,r){Object.keys(t).forEach(function(o){if("key"!==o&&"ref"!==o){var i=t[o];o in n||("style"===o?m(e.style,u,i||u,""):"class"===o?h(e,null,i,r):_(e,o,null,i)||g(e,o,null,r)||(e[o]=void 0))}})}(e,n||u,t,r)}function L(e,n,t,r){n&&Object.keys(n).forEach(function(t){if(!a.has(t)){var r=n[t];e.setAttribute(t,r)}})}function N(e,n,t){var r,o,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=n._node,u=e.content=A(e.content,e.isSVG),a=n.content;if(n===e||e._node)return e;if(y(l))return n.props.render!==e.props.render&&(l.render=e.props.render),e._node=l,e;if(null!=(r=n._text)&&null!=(o=e._text))r!==o&&(l.nodeValue=o);else if(n.type===e.type&&n.isSVG===e.isSVG){var f=n.type;if("function"!=typeof f){if("string"==typeof f)return n.isCustomElement&&F(u,a)?z(t,e,n):q(t,e,n,i);throw new Error("Error while patching. Unknown node type '".concat(f,"'."))}if(n.isComponent){var s=n._data,c=f,d=V(c,e.props,e.isCustomElement);e._uncontrolled=d.uncontrolled,s.patch(d.controlled,u,d.uncontrolled,n._uncontrolled),e._data=s,J(e.ref,s,n.ref)}else{var v=f.shouldUpdate||G;if(v(e.props,n.props,u,a)){var p=f,m=p(e.props,u);(e=N(m,n._data,t))._data=m}else e._data=n._data}}else if(t)return z(t,e,n);return e._node=l,e}function W(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.length-1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:t.length-1;if(n!==t){var u=I(n,t,r,o,i,l,s,e);if(l-=u=B(n,t,r+=u,o,i+=u,l,s,e),!(r>(o-=u)&&i>l))if(r<=o&&i>l)O(e,n,r,o,t[i]);else if(i<=l&&r>o)T(e,t,i,l);else{var a=l-i+1,f=o-r+1;if(u=-1,a<f){if((u=R(n,t,r,o,i,l,s,!0))>=0){O(e,n,r,u-1,t[i]);var c=u+a;for(r=u;r<c;){var d=r++;n[d]=N(n[d],t[i++],e)}var v=t[l+1];return void O(e,n,r,o,v)}}else if(a>f&&(u=R(t,n,i,l,r,o,s,!1))>=0){T(e,t,i,u-1);var p=u+f;for(i=u;i<p;){var y=r++;n[y]=N(n[y],t[i++],e)}return void T(e,t,i,l)}if(i===l)return H(e,t[i]),void O(e,n,r,o,t[i+1]);if(r===o)return T(e,t,i,l),void(n[r]=Y(e,n[r],t[l+1]));var m=b(n,t,r,o,i,l);m||(m=E(n,t,r,o,i,l)),D(e,m.diff,n,t,r,i,l,m.keymap,m.wrapmap)}}}function I(e,n,t,r,o,i,l,u){for(var a,f,s=0;t<=r&&o<=i&&l(a=e[t],f=n[o]);)u&&(e[t]=N(a,f,u)),t++,o++,s++;return s}function B(e,n,t,r,o,i,l,u){for(var a,f,s=0;t<=r&&o<=i&&l(a=e[r],f=n[i]);)u&&(e[r]=N(a,f,u)),r--,i--,s++;return s}function D(e,n,t,r,o,i,l,u,a){for(var f=new Map,c=new Map,d=0,v=o;d<n.length;d++){var p=n[d];if(2===p)v++;else if(4===p){var y=t[v++],m=null;null!=y.key?null!=(m=u[y.key])&&s(y,r[m])&&f.set(y.key,m):y._isWrapped&&null!=(m=a.get(y._node))&&s(y,r[m])&&c.set(y._node,m)}else 8===p&&0}for(var h=r.slice(),_=n.length-1,g=l;_>=0;_--){var b=n[_];if(2===b)g--;else if(8===b){var E=g--,w=r[E];null!=w.key&&f.has(w.key)||w._isWrapped&&c.has(w._node)||(H(e,w),h[E]=h[E+1])}}for(var S=0,A=o,k=i;S<n.length;S++){var C=n[S];if(2===C){var j=A++;t[j]=N(t[j],r[k++],e)}else if(4===C){var O=A++,M=t[O],T=null;null!=M.key?T=f.get(M.key):M._isWrapped&&(T=c.get(M._node)),null!=T?(t[O]=N(M,r[T],e),K(e).insertBefore(t[O]._node,k<h.length?h[k]._node:null)):t[O]=Y(e,M,k<h.length?h[k]:null)}else 8===C&&k++}}function R(e,n,t,r,o,i,l,u){for(var a=o,f=-1,s=i-o+1;t<=r&&r-t+1>=s;){if(l(u?e[t]:n[a],u?n[a]:e[t])){if(f<0&&(f=t),++a>i)return f}else f=-1,a=o;t++}return-1}function F(e,n){return e!==n&&(e.length!==n.length||e.some(function(e,t){var r,o,i=n[t];return e.type!==i.type||(null===(r=e.props)||void 0===r?void 0:r.slot)!==(null===(o=i.props)||void 0===o?void 0:o.slot)}))}function q(e,n,t,r){var o=n,i=t._node;return o._node&&i!==o._node&&(o=z(e,Z(n),t)),P(i,o.props,t.props,r||t.isCustomElement),W(i,n.content,t.content),J(o.ref,i,t.ref),o._node=i,o}function z(e,n,t){var r=t._node.nextSibling;H(e,t);var o=X(n),i=o._node;return K(e).insertBefore(i,r),j(o),o}function H(e,n){n._clean&&n._clean(),K(e).removeChild(n._node),x(n)}function Y(e,n,t){var r=X(n),o=r._node;return K(e).insertBefore(o,null==t?void 0:t._node),j(r),r}function $(e,n,t){var r=C(n);K(e).insertBefore(r,null==t?void 0:t._node),j(n)}function J(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t!==e&&("function"==typeof t&&t(null),"function"==typeof e&&e(n))}function K(e){if(y(e)){var n=e.content;if(n)return n}return e}function Q(e,n){var t,r,o=e.metadata;return!(null===(r=null===(t=null==o?void 0:o.properties)||void 0===t?void 0:t[n])||void 0===r?void 0:r.readOnly)||(l.warn("Read-only property '".concat(n,"' cannot be set on ").concat(o.name,".")),!1)}function X(e){var n=e;return e._isWrapped||(e._node&&(n=Z(e)),k(n)),n}function Z(e){var n=Object.assign({},e);return n._node=null,n}function ee(e){return e&&(null!=e.type||null!=e._text||e._node)}n.LISTENER_OPTIONS_SYMBOL=p,n.appendChildrenForTemplate=M,n.classPropToObject=f,n.flattenContent=A,n.getMountedNode=function(e){return e._node},n.h=function(e,n){var t,o=!1,i=!1;t="string"==typeof e?!(o="svg"===e)&&r.ElementUtils.isValidCustomElementName(e):(i=c(e.prototype))&&e.prototype.mountContent;for(var l=i||t,a=arguments.length,f=new Array(a>2?a-2:0),s=2;s<a;s++)f[s-2]=arguments[s];return{type:e,isSVG:o,isComponent:i,isCustomElement:t,key:null==n?void 0:n.key,props:n||(l?Object.create(null):u),content:1===f.length?f[0]:f,ref:null==n?void 0:n.ref}},n.mount=k,n.mountCustomElement=function(e,n){var t=e.type,r=e.props,o=document.createElement(t);return P(o,n,null,!0),P(o,r,null,!0),e.content=A(e.content,e.isSVG),O(o,e.content),e._node=o,o},n.mountCustomElementContent=function(e,n){var t=e._node;P(t,e.props,n,!0),e.content=A(e.content,e.isSVG),O(t,e.content),J(e.ref,t)},n.mountForTemplate=C,n.mounted=function(e){e.isComponent&&e._data.notifyMounted()},n.patch=N,n.patchCustomElement=function(e,n,t,r){var o=n._node;n!==e&&(P(o,t,r,!0),P(o,e.props,n.props,!0),e.content=A(e.content,e.isSVG),W(o,e.content,n.content),J(e.ref,o,n.ref))},n.patchCustomElementContent=function(e,n,t){var o=n._node;if(n!==e){e.content=A(e.content,e.isSVG);var i={},l=n.props;for(var u in l)(r.AttributeUtils.isEventListenerProperty(u)||"class"===u||"style"===u)&&(i[u]=l[u]);Object.assign(i,t),P(o,e.props,i,!0),W(o,e.content,n.content),J(e.ref,o,n.ref)}},n.patchDOMForTemplate=L,n.patchRef=J,n.removeChildren=T,n.removeListeners=function(e,n){Object.keys(n).forEach(function(t){a.has(t)||_(e,t,null,n[t])})},n.unmount=x,Object.defineProperty(n,"__esModule",{value:!0})})}();
//# sourceMappingURL=ojvdom.js.map