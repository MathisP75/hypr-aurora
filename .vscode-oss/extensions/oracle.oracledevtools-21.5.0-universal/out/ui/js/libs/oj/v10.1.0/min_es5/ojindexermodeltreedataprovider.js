!function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["ojs/ojcore-base","ojs/ojtranslation","ojs/ojarraydataprovider","ojs/ojarraytreedataprovider","ojs/ojindexer"],function(e,i,n,s,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;
/**
   * @license
   * Copyright (c) 2018 2021, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignore
   */
var a=function(){function r(t,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.data=t,this.options=s;var a=s.sections;if(null==a){var o=i.getTranslatedString("oj-ojIndexer.indexerCharacters");a=o.split("|")}a.push(e.IndexerModel.SECTION_OTHERS);var u,l=s.groupingStrategy;if(null==l){var h=this.options.groupingAttribute;l=function(t){var i=(t[h]?t[h]:t).toString().toUpperCase()[0];return a.indexOf(i)>-1?i:e.IndexerModel.SECTION_OTHERS}}t=t.sort(function(t,e){var i=l(t),n=l(e);return a.indexOf(i)-a.indexOf(n)});for(var c=0;c<this.data.length;c++){var f=l(this.data[c]);u!==f&&(u=f,this._set(f,c))}var v=this,d=a.filter(function(t){return null!=v._get(t)});this.sections=a,this.baseDataProvider=new n(d,{keys:d})}var a,o,u;return a=r,(o=[{key:"_set",value:function(t,e){null==this.pos&&(this.pos=[]),this.pos.push({key:t,value:e})}},{key:"_get",value:function(t){for(var e=0;e<this.pos.length;e++)if(this.pos[e].key===t)return this.pos[e].value;return null}},{key:"getIndexableSections",value:function(){return this.sections.slice(0,this.sections.length-1)}},{key:"getMissingSections",value:function(){if(null==this.missing){for(var t=[],e=0;e<this.sections.length-1;e++){var i=this.sections[e];null==this._get(i)&&t.push(i)}this.missing=t}return this.missing}},{key:"setSection",value:function(t){return this.options.sectionChangeHandler?this.options.sectionChangeHandler.call(this,t):Promise.resolve(t)}},{key:"getChildDataProvider",value:function(t,e){if(null===t)return this;var i=t,n=this.sections.indexOf(i);if(n>-1){var r,a=this._get(t);if(null!=a)if(n===this.sections.length-1)r=this.data.slice(a);else{n+=1;for(var o=this.sections[n],u=this._get(o);null==u&&n<this.sections.length;)n+=1,o=this.sections[n],u=this._get(o);(isNaN(u)||null==u)&&(u=this.data.length),r=this.data.slice(a,u)}else r=[];return new s(r,{keyAttributes:this.options.keyAttributes,sortComparators:this.options.sortComparators,implicitSort:this.options.implicitSort})}return null}},{key:"getCapability",value:function(t){return this.baseDataProvider.getCapability(t)}},{key:"getTotalSize",value:function(){return this.baseDataProvider.getTotalSize()}},{key:"containsKeys",value:function(t){return this.baseDataProvider.containsKeys(t)}},{key:"fetchByKeys",value:function(t){return this.baseDataProvider.fetchByKeys(t)}},{key:"fetchByOffset",value:function(t){return this.baseDataProvider.fetchByOffset(t)}},{key:"fetchFirst",value:function(t){return this.baseDataProvider.fetchFirst(t)}},{key:"isEmpty",value:function(){return this.baseDataProvider.isEmpty()}},{key:"addEventListener",value:function(t,e){this.baseDataProvider.addEventListener(t,e)}},{key:"removeEventListener",value:function(t,e){this.baseDataProvider.removeEventListener(t,e)}},{key:"dispatchEvent",value:function(t){return this.baseDataProvider.dispatchEvent(t)}}])&&t(a.prototype,o),u&&t(a,u),r}();return e._registerLegacyNamespaceProp("IndexerModelTreeDataProvider",a),a})}();
//# sourceMappingURL=ojindexermodeltreedataprovider.js.map