/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["exports","ojs/ojtranslation","ojs/ojvcomponent-element","ojs/ojdomutils"],function(e,t,l,o){"use strict";var s=function(e,t,l,o){var s,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,l):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,l,o);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(r=(n<3?s(r):n>3?s(t,l,r):s(t,l))||r);return n>3&&r&&Object.defineProperty(t,l,r),r};e.Selector=class extends l.ElementVComponent{constructor(e){super(e),this.state={focus:!1}}render(){const{rowKey:e,indeterminate:s}=this.props,n=this._isSelected(e),r={"oj-selector-wrapper":!0,"oj-selected":n&&!s,"oj-indeterminate":s,"oj-focus-highlight":this.state.focus&&!o.recentPointer(),"oj-component-icon":!0},c=this.props["aria-labelledby"]||null,a=this.props["aria-label"]||t.getTranslatedString("oj-ojSelector.checkboxAriaLabel",{rowKey:e});return l.h("oj-selector",{class:"oj-selector"},l.h("span",{class:r},l.h("input",{type:"checkbox",class:"oj-selectorbox oj-clickthrough-disabled","aria-label":a,"aria-labelledby":c,checked:n,onFocusin:this._handleFocusin,onFocusout:this._handleFocusout,onClick:this._checkboxListener})))}_handleFocusin(e){this.updateState({focus:!0})}_handleFocusout(e){this.updateState({focus:!1})}_checkboxListener(e){var t,l,o,s;const{selectedKeys:n,rowKey:r,selectionMode:c}=this.props;let a;null!=n&&(e.target.checked?"single"===c?n.has(r)||(a=n.clear().add([r])):a="all"===c?n.addAll():n.add([r]):a="all"===c?n.clear():n.delete([r]),null===(l=(t=this.props).onSelectedKeysChanged)||void 0===l||l.call(t,a),null===(s=(o=this.props).onIndeterminateChanged)||void 0===s||s.call(o,!1)),e.stopPropagation()}_isSelected(e){const{selectedKeys:t,selectionMode:l}=this.props;return!!t&&("all"===l?t.isAddAll():t.has(e))}},e.Selector.metadata={extension:{_DEFAULTS:class{constructor(){this.rowKey=null,this.indeterminate=!1,this.selectedKeys=null,this.selectionMode="multiple"}},_ROOT_PROPS_MAP:{"aria-label":1,"aria-labelledby":1},_WRITEBACK_PROPS:["selectedKeys","indeterminate"],_READ_ONLY_PROPS:[]},properties:{rowKey:{type:"any",value:null},indeterminate:{type:"boolean",value:!1,writeback:!0},selectedKeys:{type:"any",value:null,writeback:!0},selectionMode:{type:"string",enumValues:["all","multiple","single"],value:"multiple"}}},s([l.listener()],e.Selector.prototype,"_handleFocusin",null),s([l.listener()],e.Selector.prototype,"_handleFocusout",null),s([l.listener()],e.Selector.prototype,"_checkboxListener",null),e.Selector=s([l.customElement("oj-selector")],e.Selector),Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojselector.js.map