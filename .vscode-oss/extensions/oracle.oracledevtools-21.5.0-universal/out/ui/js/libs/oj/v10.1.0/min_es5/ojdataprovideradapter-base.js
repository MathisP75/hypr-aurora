!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */define(["ojs/ojcore-base","ojs/ojeventtarget"],function(e,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var s=function(){function e(n){t(this,e),this.dataSource=n,this.AsyncIterable=function(){return function e(i){t(this,e),this._asyncIterator=i,this[Symbol.asyncIterator]=function(){return this._asyncIterator}}}(),this.AsyncIterator=function(){function e(i,n){t(this,e),this._nextFunc=i,this._params=n,this._fetchFirst=!0}return i(e,[{key:"next",value:function(){var t=this._fetchFirst;return this._fetchFirst=!1,this._nextFunc(this._params,t)}}]),e}(),this.AsyncIteratorYieldResult=function(){return function i(n,s){t(this,i),this._parent=n,this.value=s,this[e._VALUE]=s,this[e._DONE]=!1}}(),this.AsyncIteratorReturnResult=function(){return function i(n,s){t(this,i),this._parent=n,this.value=s,this[e._VALUE]=s,this[e._DONE]=!0}}(),this.FetchListResult=function(){return function i(n,s,a,r){t(this,i),this._parent=n,this.fetchParameters=s,this.data=a,this.metadata=r,this[e._FETCHPARAMETERS]=s,this[e._DATA]=a,this[e._METADATA]=r}}(),this.ItemMetadata=function(){return function i(n,s){t(this,i),this._parent=n,this.key=s,this[e._KEY]=s}}(),this.SortCriterion=function(){return function i(n,s,a){t(this,i),this._parent=n,this.attribute=s,this.direction=a,this[e._ATTRIBUTE]=s,this[e._DIRECTION]=a}}(),this.DataProviderMutationEventDetail=function(){return function i(n,s,a,r){t(this,i),this._parent=n,this.add=s,this.remove=a,this.update=r,this[e._ADD]=s,this[e._REMOVE]=a,this[e._UPDATE]=r}}(),this.DataProviderOperationEventDetail=function(){return function i(n,s,a,r,h){t(this,i),this._parent=n,this.keys=s,this.metadata=a,this.data=r,this.indexes=h,this[e._KEYS]=s,this[e._METADATA]=a,this[e._DATA]=r,this[e._INDEXES]=h}}(),this.DataProviderAddOperationEventDetail=function(){return function i(n,s,a,r,h,u,o,c){t(this,i),this._parent=n,this.keys=s,this.afterKeys=a,this.addBeforeKeys=r,this.parentKeys=h,this.metadata=u,this.data=o,this.indexes=c,this[e._KEYS]=s,this[e._AFTERKEYS]=a,this[e._ADDBEFOREKEYS]=r,this[e._METADATA]=u,this[e._DATA]=o,this[e._INDEXES]=c}}()}return i(e,[{key:"getCapability",value:function(t){return t==e._SORT&&"full"==this.dataSource.getCapability(t)?{attributes:"multiple"}:"fetchByKeys"==t||"fetchByOffset"==t?{implementation:"lookup"}:null}},{key:"addListener",value:function(t,e){this._eventHandlerFuncs[t]=e.bind(this),this.dataSource.on(t,this._eventHandlerFuncs[t])}},{key:"removeListener",value:function(t){this.dataSource.off(t,this._eventHandlerFuncs[t])}},{key:"removeAllListeners",value:function(){this._eventHandlerFuncs={}}}]),e}();return s._SORT="sort",s._DATA="data",s._KEY="key",s._ATTRIBUTE="attribute",s._DIRECTION="direction",s._VALUE="value",s._DONE="done",s._FETCHPARAMETERS="fetchParameters",s._METADATA="metadata",s._KEYS="keys",s._INDEXES="indexes",s._ADD="add",s._REMOVE="remove",s._UPDATE="update",s._AFTERKEYS="afterKeys",s._ADDBEFOREKEYS="addBeforeKeys",n.EventTargetMixin.applyMixin(s),e._registerLegacyNamespaceProp("DataSourceAdapter",s),s})}();
//# sourceMappingURL=ojdataprovideradapter-base.js.map